"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[981],{7411:function(t,e,n){var r=n(4165),a=n(5861),u=n(3263),s=n(9778),c="https://sccotview.com/api/",o=["free/","free"],i=(localStorage.getItem("access_token"),u.Z.create({baseURL:c,timeout:5e3,headers:{"Content-Type":"multipart/form-data",accept:"application/json"}}));i.interceptors.request.use((function(t){var e=localStorage.getItem("access_token"),n=o.some((function(e){return t.url.includes(e)}));return e&&!n?t.headers.Authorization="JWT "+e:delete t.headers.Authorization,t})),i.interceptors.response.use((function(t){return t}),function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,u,o,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.config,"undefined"!==typeof e.response){t.next=4;break}return console.warn("A server/network error occurred. Looks like CORS might be the problem."),t.abrupt("return",Promise.reject(e));case 4:if(401!==e.response.status||n.url!==c+"api/token/refresh/"){t.next=7;break}return window.location.href="/userlogin1/",t.abrupt("return",Promise.reject(e));case 7:if("token_not_valid"!==e.response.data.code||401!==e.response.status||"Unauthorized"!==e.response.statusText){t.next=37;break}if(!(a=localStorage.getItem("refresh_token"))){t.next=34;break}if(u=JSON.parse(s.lW.from(a.split(".")[1],"base64").toString()),o=Math.ceil(Date.now()/1e3),!(u.exp>o)){t.next=29;break}return t.prev=13,t.next=16,i.post("api/token/refresh/",{refresh:a});case 16:return f=t.sent,localStorage.setItem("access_token",f.data.access_token),localStorage.setItem("refresh_token",f.data.refresh_token),i.defaults.headers.Authorization="JWT "+f.data.access_token,n.headers.Authorization="JWT "+f.data.access_token,t.abrupt("return",i(n));case 24:t.prev=24,t.t0=t.catch(13),console.log(t.t0);case 27:t.next=32;break;case 29:console.log("Refresh token is expired",u.exp,o),localStorage.clear(),window.location.href="/userlogin2/";case 32:t.next=37;break;case 34:console.log("Refresh token not available."),localStorage.clear(),window.location.href="/userlogin3/";case 37:return 401===e.response.status&&localStorage.clear(),t.abrupt("return",Promise.reject(e));case 39:case"end":return t.stop()}}),t,null,[[13,24]])})));return function(e){return t.apply(this,arguments)}}()),e.Z=i},7981:function(t,e,n){n.r(e);n(1413);var r=n(4165),a=n(5861),u=n(9439),s=n(2791),c=n(7689),o=n(748),i=n(1652),f=(n(6542),n(6639)),p=n(9929),d=(n(733),n(2918)),l=n(8596),x=n(7087),v=(n(9713),n(5258),n(184));(0,l.Z)((function(t){return{paper:{marginTop:t.spacing(0),display:"flex",flexDirection:"column",alignItems:"center"}}}));e.default=function(){var t=(0,c.s0)(),e=(0,d.d)(!1),n=(0,u.Z)(e,3),l=(n[0],n[1],n[2],(0,d.d)(!1)),Z=(0,u.Z)(l,3),h=(Z[0],Z[1],Z[2],(0,s.useState)()),k=(0,u.Z)(h,2),b=k[0],m=k[1],w=(0,c.TH)(),g=(0,c.UO)().id,y=(0,s.useState)([]),j=(0,u.Z)(y,2),S=j[0],_=j[1],N=(0,s.useState)([]),I=(0,u.Z)(N,2),z=(I[0],I[1],(0,s.useState)([])),C=(0,u.Z)(z,2),P=C[0],T=C[1],W=(0,s.useState)([]),A=(0,u.Z)(W,2),E=(A[0],A[1],(0,s.useState)(null)),J=(0,u.Z)(E,2),L=(J[0],J[1],(0,s.useState)(w.state)),U=(0,u.Z)(L,2),K=U[0],O=(U[1],(0,s.useState)([])),R=(0,u.Z)(O,2),V=(R[0],R[1],(0,s.useState)(-1)),D=(0,u.Z)(V,2),F=(D[0],D[1]),q=(0,s.useState)(1),H=(0,u.Z)(q,2);H[0],H[1];(0,s.useEffect)((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.op(g);case 2:e=t.sent,T(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(g)}),[]),(0,s.useEffect)((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Zs();case 2:e=t.sent,_(e.videos);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var M=function(t){var e=t.split(":"),n="";return e&&("00"!==e[0]&&(n=e[0]+"h"),"00"!==e[1]&&(n=" "+n+" "+e[1]+"min")),n.trim()},G=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.K7();case 3:e=t.sent,m(e[0]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){G()}),[]);(0,s.useEffect)((function(){K?F(K.user_score-1):t("/loginuser")}),[]);return K?(0,v.jsx)("section",{className:"d-flex justify-content-center",children:(0,v.jsxs)("section",{style:{maxWidth:"1450px",minWidth:"50%",padding:"20px"},children:[(0,v.jsx)("div",{className:"d-flex justify-content-end",children:(0,v.jsx)("button",{onClick:function(){return window.history.back()},className:"btn btn-light mt-4",value:"Volver",children:"Volver"})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"pb-5",children:[(0,v.jsxs)("h2",{children:[" ",P.temporada]}),(0,v.jsx)("p",{className:"",children:P.description}),(0,v.jsx)("div",{children:(0,v.jsxs)("p",{className:"border border-warning d-inline p-2 rounded text-warning",children:[S.filter((function(t){return t.temporada===P.id})).length," Videos"]})})]}),(0,v.jsx)("div",{className:"d-flex flex-wrap ",children:S.filter((function(t){return t.temporada===P.id})).sort((function(t,e){return t.id-e.id})).map((function(e){return(0,v.jsxs)("div",{className:"card bg-dark  m-2 cursorPointer card-video ",onClick:function(){return n=e.id,void t("/seeVideo/".concat(n),{state:b});var n},children:[(0,v.jsx)(x.LazyLoadImage,{effect:"blur",src:"https://sccotview.com".concat(e.featured_image),className:"card-img-top cursorPointer  ",alt:"..."}),(0,v.jsxs)("div",{className:"card-body pb-0 d-flex  flex-column justify-content-between ",children:[(0,v.jsx)("h6",{className:"truncate-text",children:e.title_espanol}),(0,v.jsx)("small",{className:"truncate-text",children:e.description_esp}),(0,v.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,v.jsx)("p",{children:M(e.duration)}),(0,v.jsx)("div",{children:(0,v.jsx)(o.Z,{name:"read-only",value:parseFloat(e.score),precision:.5,readOnly:!0})})]})]},e.id)]},e.id)}))})]})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{children:"No se pudo cargar"})})}},2918:function(t,e,n){n.d(e,{d:function(){return u}});var r=n(9439),a=n(2791),u=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,a.useState)(t),n=(0,r.Z)(e,2),u=n[0],s=n[1],c=function(){return s(!0)},o=function(){return s(!1)};return[u,c,o]}},733:function(t,e,n){n.d(e,{_K:function(){return i},q4:function(){return f},t$:function(){return o},z:function(){return c}});var r=n(4165),a=n(5861),u=n(7411),s="https://sccotview.com/api/commentaries/",c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post(s,e);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post("".concat(s,"list_by_video/"),e);case 2:if(200!==(n=t.sent).status){t.next=9;break}return t.next=6,n.data;case 6:case 12:return t.abrupt("return",t.sent);case 9:return console.log("error"),t.next=12,n.data;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s).concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.patch(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},9929:function(t,e,n){n.d(e,{F2:function(){return i},K7:function(){return o},LK:function(){return c},UH:function(){return f},o0:function(){return p}});var r=n(4165),a=n(5861),u=n(7411),s="https://sccotview.com/api/historialUser/",c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post(s,e);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s).concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post("".concat(s,"list_by_user/"),e);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.patch(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},6542:function(t,e,n){n.d(e,{Ed:function(){return o},Zg:function(){return f},_G:function(){return c},dS:function(){return i}});var r=n(4165),a=n(5861),u=n(7411),s="https://sccotview.com/api/series/",c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get(s);case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post(s,e);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s).concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.patch(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},6639:function(t,e,n){n.d(e,{C1:function(){return f},DN:function(){return o},op:function(){return i},xI:function(){return c}});var r=n(4165),a=n(5861),u=n(7411),s="https://sccotview.com/api/temporadas/",c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get(s);case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post(s,e);case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s).concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.patch(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},1652:function(t,e,n){n.d(e,{Jp:function(){return Z},My:function(){return i},PI:function(){return f},Wg:function(){return o},Zs:function(){return c},ff:function(){return x},gY:function(){return h},iA:function(){return l},jk:function(){return p},om:function(){return d},zj:function(){return v}});var r=n(4165),a=n(5861),u=n(7411),s="https://sccotview.com/api/videos/",c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"public/webinars/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"public/"));case 2:if(200!==(e=t.sent).status){t.next=5;break}return t.abrupt("return",e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"listPeliculas/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"listCasos/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s).concat(e));case 2:if(200!==(n=t.sent).status){t.next=7;break}return t.next=6,n.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get(s+"retrieve/"+e);case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.post(s,e);case 2:if(200!==(n=t.sent).status){t.next=9;break}return t.next=6,n.data;case 6:case 12:return t.abrupt("return",t.sent);case 9:if(409!==n.status){t.next=13;break}return t.next=12,n.data;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.put(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=7;break}return t.next=6,a.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.patch(s+e+"/",n);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.delete("".concat(s).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},9713:function(){},5258:function(){}}]);
//# sourceMappingURL=981.472432fa.chunk.js.map