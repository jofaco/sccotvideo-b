{"version":3,"file":"static/js/613.52800088.chunk.js","mappings":"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","sources":["components/videos/videoListUser.js","components/admin/videosItemAdmin.js","components/admin/videosListAdmin.js","components/videos/videosList.js","paginas/Principal.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {  useContext } from \"react\";\r\n\r\n//components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n//dependencies\r\nimport VideosItem from \"./videosItem\";\r\nimport VideosCategoriaFila from \"./videosCategoriaFila\";\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as PreferenciasUserServer from \"../../services/preferenciasUser\";\r\nimport Context from \"../context/UserContext\";\r\nimport VideoListSearch from \"./videoListSearch\";\r\nimport \"../../styles/styles.css\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: \"auto\",\r\n  },\r\n  \"@media (max-width: 1248px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  \"@media (max-width: 768px)\": {\r\n    root: {\r\n    },\r\n  },\r\n \r\n}));\r\n\r\n/**\r\n * Componente para organizar en el index los videos en su respectiva categoria, con un buscador y filtro\r\n * @param {*} videos\r\n * @param {*} categories\r\n * @returns Contenedor con los videos y categorias \r\n */\r\nfunction VideosListUser({videos, categories, ...props}) {\r\n  const history = useNavigate();\r\n\r\n  const [histUsers, setHistUsers] = useState(null);\r\n  const [prefUsers, setPrefUsers] = useState(null); \r\n  const [categoriasTotales, setCategoriasTotales] = useState(null);\r\n  const { user } = useContext(Context)\r\n\r\n/**\r\n * Función para obtener el historial de los usuarios.\r\n */\r\n  const getHistorialUsers = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorialUser({'user_id':user.id});\r\n      setHistUsers(res);\r\n      //console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n/**\r\n * Función para obtener las preferencias de los usuarios\r\n */\r\n  const getPreferenciasUser = async () => {\r\n    if (!user) return;\r\n    try {\r\n      const res = await PreferenciasUserServer.ListPreferenciaUser({'user_id':user.id});   \r\n      setPrefUsers(res);\r\n     // console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n\r\n      \r\n      getHistorialUsers();\r\n      getPreferenciasUser();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  /**\r\n   * Función para organizar las categorias de videos dependiendo de las preferencias.\r\n   */\r\n  useEffect(() => {\r\n    \r\n    \r\n    if(prefUsers && categories) {\r\n      let array = [];\r\n      let array1 =[];\r\n      let array2 = [];\r\n\r\n      for (let i = 0; i < prefUsers.length; i++) {\r\n        array1.push(prefUsers[i].categoria);        \r\n      } \r\n      for (let i = 0; i < categories.length; i++) {\r\n        array2.push(categories[i]);        \r\n      }    \r\n      \r\n      for (var i = 0; i < array2.length; i++) {\r\n          var igual=false;\r\n           for (var j = 0; j < array1.length & !igual; j++) {\r\n               if(array2[i].categoria === array1[j] )\r\n                igual=true;\r\n              }\r\n          array = prefUsers\r\n          if(!igual) array.push(array2[i]);\r\n        }\r\n        \r\n      if (array) {\r\n        //aqui se soluciona esto toca hacer que se coloque el prefUser al inicio y no al final\r\n        \r\n        setCategoriasTotales(array);\r\n      }\r\n      else {\r\n        setCategoriasTotales(null);\r\n      }\r\n\r\n    }\r\n  },[categories, prefUsers])\r\n\r\n  /**\r\n   * Función para redireccionar al reproductor del video seleccionado, se crea un nuevo historial de usuario si es la primera vez en ver el video, de lo contrario se envía este historial como state\r\n   * @param {*} id \r\n   */\r\nconst verVideo = async (id, categories) => {\r\n  //console.log(\"CATListUser2\", categories);\r\n\r\n  // Si no hay usuario logueado y el video es un webinar (categoría 3), redirige directo sin guardar historial\r\n  if (!user?.id && categories === 13) {\r\n    history(`/seeWebinar/${id}`);\r\n    return;\r\n  }\r\n\r\n  // Si hay usuario logueado o no es webinar, registrar historial y redirigir\r\n  if (user?.id) {\r\n    const formData = new FormData();\r\n    formData.append(\"usuario\", user.id);\r\n    formData.append(\"video\", id);\r\n\r\n    let histUser = null;\r\n\r\n    try {\r\n      // Verificar si ya existe historial para este usuario y video\r\n      const existente = histUsers.find(\r\n        (h) => h.usuario?.id === user.id && h.video === id\r\n      );\r\n\r\n      if (existente) {\r\n        histUser = existente;\r\n      } else {\r\n        const hu = await HistorialUserServer.RegisterHistorialUser(formData);\r\n        histUser = hu.data;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error registrando historial:\", error);\r\n    }\r\n\r\n    // Redirigir al video con historial\r\n    history(`/seeVideo/${id}`, { state: histUser });\r\n  } else {\r\n    // Si no hay usuario logueado y no es webinar, redirige directo a ver video sin historial\r\n    history(`/seeVideo/${id}`);\r\n  }\r\n};\r\n\r\n  //console.log(categoriasTotales);\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <div id=\"carousel_videos\" className=\" \">\r\n        {/* <h2 className=\"pb-2\">🕑 Últimos videos</h2> */}\r\n        {/* videos carousel usuario */}\r\n        {/* aca se coloca los ultimos videos traidos del histVisdeoUser */}\r\n        <Carousel  className={classes.root} id=\"carousel\" >\r\n          {videos &&\r\n            props.search(videos).slice(0, 6).map((video,index) => (\r\n              <Carousel.Item key={index} style={{ minHeight: \"400px\" }}>\r\n                <VideosItem\r\n                  key={video.id}\r\n                  video={video}\r\n                  listVideos={props.listVideos}\r\n                  histUsers={histUsers}\r\n                  user={user}\r\n                  verVideo={verVideo}\r\n                />\r\n              </Carousel.Item>\r\n\r\n            ) )}\r\n        </Carousel>\r\n      </div>\r\n     <br></br>\r\n     <br></br>\r\n      \r\n      <div id=\"card_videos\" className=\"mt-5\"   > \r\n      \r\n        {videos && prefUsers ? \r\n          <div className=\"\">\r\n            {/* videos por categorias usuario */}\r\n              {            \r\n              categoriasTotales && props.search2(categoriasTotales).map((element, index) => (\r\n                <>\r\n                { props.search2(categoriasTotales).length <= 1 ?\r\n                  \r\n                <VideoListSearch \r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}\r\n                >\r\n                </VideoListSearch>\r\n                :\r\n                <VideosCategoriaFila\r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}  \r\n                  >\r\n                </VideosCategoriaFila>\r\n                }   \r\n                  </>\r\n                ))\r\n              }\r\n          </div>\r\n        :\r\n        props.search2(categories).map((element,index) => (\r\n          <div key={index} >\r\n            {props.search2(categories).length <= 1 ?\r\n            <VideoListSearch \r\n            key= {index}\r\n            categoria ={element}\r\n            videos={videos}\r\n            search={props.search}\r\n            histUsers = {histUsers}\r\n            user = {user}\r\n            verVideo= {verVideo}\r\n            >\r\n\r\n            </VideoListSearch>\r\n            :\r\n              <VideosCategoriaFila\r\n                key= {index}\r\n                categoria ={element}\r\n                videos={videos}\r\n                search={props.search}\r\n                histUsers = {histUsers}\r\n                user = {user}\r\n                verVideo= {verVideo}\r\n              >\r\n              </VideosCategoriaFila>\r\n            }\r\n\r\n              </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideosListUser;\r\n","import React from \"react\";\r\n//components\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\n\r\n//MaterialUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from '@mui/material/Box';\r\nimport Rating from '@mui/material/Rating';\r\n\r\n//dependencias\r\nimport * as VideoServer from \"../../services/videoServer\";\r\nimport \"../../styles/styles.css\";\r\nimport { Image } from \"react-bootstrap\";\r\nimport zIndex from \"@mui/material/styles/zIndex\";\r\nimport capitalizarNombre from \"../functions/capitalizarNombre\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"white\",\r\n  },\r\n  imagenCarousel: {\r\n    cursor:\"pointer\",\r\n    minWidth: \"100%\",\r\n    objectFit: \"contain\",\r\n    maxHeight: \"85vh\",\r\n    objectPosition: \"top\",\r\n  },\r\n  carouselText: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    background: \"linear-gradient(to bottom, transparent 20%, rgba(24, 26, 54, 0.95) 90%)\",\r\n    padding: \"300px 20px 20px\",\r\n  },\r\n  textTitle:{\r\n    fontSize:\"25px\"\r\n  },\r\n\r\n  \"@media (max-width: 500px)\": {\r\n    imagenCarousel: {\r\n      minWidth: \"100%\",\r\n      objectFit: \"cover\", // Cambia a 'cover' para que ocupe más espacio\r\n      maxHeight: \"100vh\", // Aumenta la altura en dispositivos pequeños\r\n      objectPosition: \"top\",\r\n    },\r\n    carouselText: {\r\n      padding: \"120px 20px 10px\", // Reduce el padding del título para que no tape la imagen\r\n      bottom:\"-24px\",\r\n      zIndex:\"10\"\r\n    },\r\n    textTitle:{\r\n      fontSize:\"18px\"\r\n    },\r\n    containerRating:{\r\n      display:\"none\"\r\n    }\r\n    \r\n  },\r\n}));\r\n\r\n\r\n/**\r\n * Componente para mostrar en el carousel del admin los videos con algunos campos.\r\n * @param {*} video\r\n * @returns Item de un video.\r\n */\r\nconst VideosItemAdmin = ({ video,...props }) => {\r\n  const history = useNavigate();\r\n\r\n  /**\r\n   * Elimina el video seleccionado y recarga la pagina.\r\n   * @param {pk} videoID \r\n   */\r\n  const handleDelete = async (videoID) => {\r\n    await VideoServer.DeleteVideo(videoID);\r\n    window.location.reload();\r\n  };\r\n  const changeDuration = (duration) => {\r\n    let tiempo = duration.split(':');\r\n    let new_duration = \"\";\r\n    if (tiempo) {\r\n      if (tiempo[0] !== \"00\") {\r\n        new_duration = tiempo[0] + \"h\";\r\n      }\r\n      if (tiempo[1] !== \"00\") {\r\n        new_duration = \" \" + new_duration + \" \" + tiempo[1] + \"min\";\r\n      }\r\n      /* if (tiempo[2] !==\"00\") {\r\n        new_duration = \" \"+new_duration+\" \"+tiempo[2]+\"s\";\r\n      } */\r\n    }\r\n    return new_duration.trim(); // trim() para eliminar cualquier espacio en blanco adicional\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div  id=\"contenedorItemVideo\" className=\"cursorPointer contenedorItemVideo\">\r\n      <div className={\"\"+classes.row} onClick={() => props.verVideo(video.id)}>\r\n        <div className={\" \"+classes.imagen}>\r\n            <Image\r\n              src={\"https://sccotview.com\" + video.featured_image}\r\n              className={classes.imagenCarousel +\" \"}\r\n              \r\n            >\r\n            </Image>\r\n          \r\n        </div>\r\n        <div className=\" col-12\">\r\n        <div className={classes.carouselText }>\r\n          <div className=\"d-flex justify-content-end text-capitalize  \">\r\n            <Box sx={{'& > legend': { mt: 2 }}} className={classes.containerRating}>\r\n              <div className=\"bg-secondary d-inline pt-2 px-1 rounded-2\">\r\n                <Rating name=\"read-only\" value={parseFloat(video.score)} precision={0.5} readOnly />\r\n              </div>\r\n            </Box>\r\n\r\n          </div>\r\n          <h3 className={`${classes.textTitle} text-light text-capitalize text-start border-bottom border-white pb-2`}>\r\n            {video.title_espanol}\r\n          </h3>\r\n\r\n          {/* <span className=\"text-light text-start font-weight-light text-capitalize truncate-text-6\">{video.description_esp}</span>\r\n          {video.categorias.length > 0 && (\r\n            <ul className=\"d-flex flex-wrap justify-content-start p-0 m-0 py-0 mt-2  text-light\">\r\n              <span className=\"text-capitalize me-1\">{video.categorias.length > 1 ? \"Categorías\" : \"Categoría\"} → </span>\r\n              {video.categorias.map(categoria => (\r\n                <li key={categoria.id} className=\"list-group-item list-group-item-light px-2 rounded-4 mx-1\"><small className=\"text-capitalize\">{categoria.categoria}</small></li>\r\n              ))}\r\n            </ul>\r\n          )} */}\r\n      {video.autor.length > 0 && (\r\n        <ul className=\"d-flex flex-wrap justify-content-start p-0 text-light\">\r\n          <div className=\"d-flex justify-content-between w-100 mb-2\">\r\n            <div>\r\n\r\n          <span className=\"text-capitalize small\">\r\n            {video.autor.length > 1 ? \"Autores\" : \"Autor\"} →\r\n          </span>\r\n\r\n            {video.autor.slice(0, 2).map((autor, index, array) => (\r\n              <p key={autor.id} className=\"px-1 rounded-4 m-0 d-inline\">\r\n                <small className=\"text-capitalize \" style={{ fontSize: \"0.85rem\" }}>\r\n                  {capitalizarNombre(autor.autor) } \r\n                  {index < array.length - 1 ? \",\" : \"\"}\r\n                </small>\r\n              </p>\r\n            ))}\r\n            </div>\r\n\r\n\r\n            <p className=\"mx-1\" style={{ fontSize: \"0.95rem\" }}>{changeDuration(video.duration)}</p>\r\n          </div>\r\n\r\n          {video.autor.length > 2 && (\r\n            <span className=\"px-2 small\" style={{ fontSize: \"0.85rem\" }}>...</span>\r\n          )}\r\n        </ul>\r\n      )}\r\n\r\n\r\n\r\n          </div>\r\n          \r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideosItemAdmin;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {  useContext } from \"react\";\r\n \r\n// Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport VideosItemAdmin from \"../admin/videosItemAdmin\";\r\nimport VideosCategoriaFila from \"../videos/videosCategoriaFila\";\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as PreferenciasUserServer from \"../../services/preferenciasUser\";\r\nimport Context from \"../context/UserContext\";\r\n\r\nimport VideoListSearch from \"../videos/videoListSearch\";\r\nimport \"../../styles/styles.css\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n  \"@media (max-width: 1248px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n}));\r\n/**\r\n * Componente para organizar en el index del admin los videos en su respectiva categoría, con un buscador y filtro.\r\n */\r\nfunction VideosListAd({ videos, categories, search, search2, ...props }) {\r\n  const history = useNavigate();\r\n\r\n  const [histUsers, setHistUsers] = useState();\r\n  const [prefUsers, setPrefUsers] = useState(null); \r\n  const [categoriasTotales, setCategoriasTotales] = useState(null);\r\n  const { user } = useContext(Context)\r\n\r\n  /**\r\n   * Función para obtener el historial de los usuarios.\r\n   */\r\n  const getHistorialUsers = async () => {\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorialUser({'user_id':user.id});\r\n      setHistUsers(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  /**\r\n   * Función para obtener las preferencias de los usuarios\r\n   */\r\n  const getPreferenciasUser = async () => {\r\n    try {\r\n      const res = await PreferenciasUserServer.ListPreferenciaUser({'user_id':user.id});   \r\n      setPrefUsers(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getHistorialUsers();\r\n    getPreferenciasUser();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  /**\r\n   * Función para organizar las categorias de videos dependiendo de las preferencias.\r\n   */\r\n  useEffect(() => {\r\n\r\n    if(prefUsers && categories) {\r\n      let array = [];\r\n      let array1 =[];\r\n      let array2 = [];\r\n\r\n      for (let i = 0; i < prefUsers.length; i++) {\r\n        array1.push(prefUsers[i].categoria);        \r\n      } \r\n      for (let i = 0; i < categories.length; i++) {\r\n        array2.push(categories[i]);        \r\n      }    \r\n      \r\n      for (var i = 0; i < array2.length; i++) {\r\n          var igual=false;\r\n           for (var j = 0; j < array1.length & !igual; j++) {\r\n               if(array2[i].categoria === array1[j] )\r\n                igual=true;\r\n              }\r\n              array = prefUsers\r\n          if(!igual)array.push(array2[i]);\r\n      }\r\n      \r\n      if (array) {\r\n        setCategoriasTotales(array);\r\n      }\r\n      else {\r\n        setCategoriasTotales(null);\r\n      }\r\n      \r\n    }\r\n  },[categories, prefUsers])\r\n  /**\r\n   * Función para redireccionar al reproductor del video seleccionado, se crea un nuevo historial de usuario si es la primera vez en ver el video, de lo contrario se envía este historial como state\r\n   * @param {*} id \r\n   */\r\n  const verVideo = async (id) =>{\r\n    const formData = new FormData();\r\n    let histUser;\r\n    let contador = 0;\r\n    formData.append(\"usuario\", user.id);\r\n    formData.append(\"video\", id);\r\n    try {\r\n      for (let index = 0; index < histUsers.length; index++) {\r\n        const element = histUsers[index];\r\n        if (element.usuario.id === user.id && element.video === id) {\r\n          histUser = element;\r\n          contador++;\r\n        }\r\n      }\r\n      if (contador === 0) {\r\n        const hu = await HistorialUserServer.RegisterHistorialUser(formData);\r\n        histUser = hu.data;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    history(`/seeVideo/${id}`,{state:histUser});\r\n    \r\n  }\r\n  \r\n  const classes = useStyles();\r\n  if (videos.length > 0 ) {\r\n    return (\r\n      <div className=\"\">\r\n        <div id=\"carousel_videos\">\r\n          {/* {console.log(props.listVideos)}\r\n          {console.log(videos)} */}\r\n         \r\n          {/* <h2>🕑 Últimos videos Admin </h2> */}\r\n          <Carousel className={classes.root} id=\"carousel\" fade >\r\n            {videos &&\r\n              search(videos).slice(0, 6).map((video,index) => (\r\n                <Carousel.Item key={index}>\r\n                  <VideosItemAdmin\r\n                    key={index}\r\n                    video={video}\r\n                    histUsers = {histUsers}\r\n                    user = {user}\r\n                    verVideo = {verVideo}\r\n                  />\r\n                </Carousel.Item>\r\n              ))}\r\n          </Carousel>\r\n        </div>\r\n        \r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n       <div id=\"card_videos\" className=\"\">\r\n  {\r\n    prefUsers ? \r\n      <div>\r\n        {categoriasTotales && (() => {\r\n          const categoriasFiltradas = search2(categoriasTotales);\r\n          return categoriasFiltradas.map((element, index) => (\r\n            categoriasFiltradas.length <= 1 ?\r\n              <VideoListSearch \r\n                key={index}\r\n                categoria={element}\r\n                videos={videos}\r\n                search={search}\r\n                histUsers={histUsers}\r\n                user={user}\r\n                verVideo={verVideo}\r\n              />\r\n              :\r\n              <VideosCategoriaFila\r\n                key={index}\r\n                categoria={element}\r\n                videos={videos}\r\n                search={search}\r\n                histUsers={histUsers}\r\n                user={user}\r\n                verVideo={verVideo}\r\n              />\r\n          ));\r\n        })()}\r\n      </div>\r\n    :\r\n    categories && (() => {\r\n      const categoriasFiltradas = search2(categories);\r\n      return categoriasFiltradas.map((element, index) => (\r\n        categoriasFiltradas.length <= 1 ?\r\n          <VideoListSearch \r\n            key={index}\r\n            categoria={element}\r\n            videos={videos}\r\n            search={search}\r\n            histUsers={histUsers}\r\n            user={user}\r\n            verVideo={verVideo}\r\n          />\r\n          :\r\n          <VideosCategoriaFila\r\n            key={index}\r\n            categoria={element}\r\n            videos={videos}\r\n            search={search}\r\n            histUsers={histUsers}\r\n            user={user}\r\n            verVideo={verVideo}\r\n          />\r\n      ));\r\n    })()\r\n  }\r\n</div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <div id=\"card_videos m-5 text-center\">\r\n        <h2 style={{color:\"white\"}}><center>No hay videos disponibles</center></h2>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default VideosListAd;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport \"../../index.css\";\r\n\r\nimport VideosListAd from \"../admin/videosListAdmin\";\r\nimport { ErrorBoundary } from \"./errorsBoundary\";\r\nimport { ListCategorias } from \"../../services/category\";\r\nimport SearchComponent from \"./search\";\r\nimport Context from \"../context/UserContext\";\r\nimport VideosListUser from \"./videoListUser\";\r\n\r\nconst VideosList = ({ videos }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [filteredVideos, setFilteredVideos] = useState([]);\r\n  const [filterParam, setFilterParam] = useState(\"All\");\r\n  const [loading, setLoading] = useState(true); // 👈 nuevo estado para estabilizar renderizado\r\n\r\n  const { user } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    const fetchCategorias = async () => {\r\n      try {\r\n        const res = await ListCategorias();\r\n        setCategories(res);\r\n      } catch (error) {\r\n        console.log(\"Error al cargar categorías\");\r\n      }\r\n    };\r\n    fetchCategorias();\r\n  }, []);\r\n\r\n  const removeAccents = (str) =>\r\n    str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n\r\n  const search = (videos) => {\r\n    if (!query) return videos;\r\n\r\n    const queryLower = removeAccents(query.toLowerCase());\r\n\r\n    return videos.filter((dato) => {\r\n      const titleMatches = removeAccents(dato.title_espanol || \"\")\r\n        .toLowerCase()\r\n        .includes(queryLower);\r\n\r\n      const descriptionMatches = removeAccents(dato.description_esp || \"\")\r\n        .toLowerCase()\r\n        .includes(queryLower);\r\n\r\n      const categoryMatches = dato.categorias?.some((c) =>\r\n        removeAccents(c.categoria.toLowerCase()).includes(queryLower)\r\n      );\r\n\r\n      const especialidadMatches = dato.especialidad?.some((e) =>\r\n        removeAccents(e.especialidad.toLowerCase()).includes(queryLower)\r\n      );\r\n\r\n      const subEspecialidadMatches = dato.subEspecialidad?.some((e) =>\r\n        removeAccents(e.subEspecialidad.toLowerCase()).includes(queryLower)\r\n      );\r\n\r\n      const palabraClaveMatches = dato.palabraClave?.some((e) =>\r\n        removeAccents(e.palabraClave.toLowerCase()).includes(queryLower)\r\n      );\r\n\r\n      const autorMatches = dato.autor?.some((e) =>\r\n        removeAccents(e.autor.toLowerCase()).includes(queryLower)\r\n      );\r\n\r\n      return (\r\n        titleMatches ||\r\n        descriptionMatches ||\r\n        categoryMatches ||\r\n        especialidadMatches ||\r\n        subEspecialidadMatches ||\r\n        palabraClaveMatches ||\r\n        autorMatches\r\n      );\r\n    });\r\n  };\r\n\r\n  const search2 = (categories) => {\r\n    const contenedorCarousel = document.getElementById(\"carousel\"); // ⚠️ cuidado con esto\r\n\r\n    return categories.filter((item) => {\r\n      if (!contenedorCarousel) {\r\n        console.warn(\"No se encontró el contenedor del carrusel\");\r\n        return false;\r\n      }\r\n\r\n      if (item.categoria === filterParam) {\r\n        contenedorCarousel.style.visibility = \"hidden\";\r\n        contenedorCarousel.style.height = \"10px\";\r\n\r\n        return removeAccents(item.categoria.toLowerCase()).includes(\r\n          removeAccents(query.toLowerCase())\r\n        );\r\n      } else if (filterParam === \"All\") {\r\n        contenedorCarousel.style.visibility = \"visible\";\r\n        contenedorCarousel.style.height = \"100%\";\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Solo actualiza si hay videos disponibles\r\n    if (Array.isArray(videos)) {\r\n      const results = search(videos);\r\n      setFilteredVideos(results);\r\n      setLoading(false); // ✅ Ya se puede mostrar resultados\r\n    }\r\n  }, [query, videos]);\r\n\r\n  const renderList = () => {\r\n    if (loading) {\r\n      return <h1 className=\"m-5 text-center\">Cargando videos...</h1>;\r\n    }\r\n\r\n    if (filteredVideos.length === 0) {\r\n      return (\r\n        <h1 className=\"m-5 text-center\">No se encontraron videos</h1>\r\n      );\r\n    }\r\n\r\n    const Component = user?.is_superuser ? VideosListAd : VideosListUser;\r\n\r\n    return (\r\n      <Component\r\n        videos={filteredVideos}\r\n        categories={categories}\r\n        search={search}\r\n        search2={search2}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SearchComponent\r\n        query={query}\r\n        setQuery={setQuery}\r\n        filterParam={filterParam}\r\n        setFilterParam={setFilterParam}\r\n        categories={categories}\r\n      />\r\n      <ErrorBoundary>{renderList()}</ErrorBoundary>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideosList;\r\n","import { useEffect, useState, useContext } from \"react\";\r\n\r\n//dependencies\r\nimport VideosList from \"../components/videos/videosList\";\r\nimport VideoLoadingComponent from \"../components/videos/videoLoading\";\r\nimport * as VideoServer from \"../services/videoServer\";\r\n//components\r\nimport { Container } from \"@material-ui/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport Context from \"../components/context/UserContext\";\r\n\r\n/**\r\n * Carga todos los videos para el Home de la aplicación\r\n */\r\nconst Principal = () => {\r\n  const { user } = useContext(Context);\r\n  const VideoLoading = VideoLoadingComponent(VideosList);\r\n\r\n  const [appState, setAppState] = useState({\r\n    loading: true,\r\n    videos: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        const res = user\r\n          ? await VideoServer.ListVideos()\r\n          : await VideoServer.ListVideosPublic();\r\n  \r\n        const allVideos = res\r\n        console.log(allVideos);\r\n        \r\n        setAppState({ loading: false, videos: allVideos.videos });\r\n      } catch (error) {\r\n        console.error(\"Error cargando videos\", error);\r\n        setAppState({ loading: false, videos: [] });\r\n      }\r\n    };\r\n  \r\n    fetchVideos();\r\n  }, [user]);\r\n  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <VideoLoading isLoading={appState.loading} videos={appState.videos} />\r\n    </div>\r\n  );\r\n};\r\n\r\nPrincipal.propTypes = {\r\n  loading: PropTypes.bool,\r\n  videos: PropTypes.object,\r\n};\r\n\r\nexport default Principal;\r\n"],"names":["useStyles","makeStyles","theme","root","margin","display","videos","categories","props","history","useNavigate","useState","histUsers","setHistUsers","prefUsers","setPrefUsers","categoriasTotales","setCategoriasTotales","user","useContext","Context","getHistorialUsers","HistorialUserServer","id","res","console","log","getPreferenciasUser","PreferenciasUserServer","useEffect","array","array1","array2","i","length","push","categoria","igual","j","verVideo","formData","FormData","append","histUser","existente","find","h","usuario","video","hu","data","error","state","classes","className","search","slice","map","index","style","minHeight","listVideos","search2","element","paper","marginTop","spacing","marginBottom","flexDirection","alignItems","color","imagenCarousel","cursor","minWidth","objectFit","maxHeight","objectPosition","carouselText","position","bottom","left","width","background","padding","textTitle","fontSize","zIndex","containerRating","row","onClick","imagen","Image","src","featured_image","Box","sx","mt","Rating","name","value","parseFloat","score","precision","readOnly","title_espanol","autor","capitalizarNombre","duration","tiempo","split","new_duration","trim","changeDuration","contador","Carousel","fade","categoriasFiltradas","query","setQuery","setCategories","filteredVideos","setFilteredVideos","filterParam","setFilterParam","loading","setLoading","fetchCategorias","ListCategorias","removeAccents","str","normalize","replace","queryLower","toLowerCase","filter","dato","titleMatches","includes","descriptionMatches","description_esp","categoryMatches","categorias","some","c","especialidadMatches","especialidad","e","subEspecialidadMatches","subEspecialidad","palabraClaveMatches","palabraClave","autorMatches","contenedorCarousel","document","getElementById","item","visibility","height","warn","Array","isArray","results","Component","is_superuser","VideosListAd","VideosListUser","renderList","VideoLoading","VideoLoadingComponent","VideosList","appState","setAppState","fetchVideos","VideoServer","allVideos","isLoading"],"sourceRoot":""}