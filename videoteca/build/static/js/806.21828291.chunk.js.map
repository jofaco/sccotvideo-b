{"version":3,"file":"static/js/806.21828291.chunk.js","mappings":"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","sources":["components/videos/videoListUser.js","components/videos/peliculas.js","paginas/Peliculas.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {  useContext } from \"react\";\r\n\r\n//components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n//dependencies\r\nimport VideosItem from \"./videosItem\";\r\nimport VideosCategoriaFila from \"./videosCategoriaFila\";\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as PreferenciasUserServer from \"../../services/preferenciasUser\";\r\nimport Context from \"../context/UserContext\";\r\nimport VideoListSearch from \"./videoListSearch\";\r\nimport \"../../styles/styles.css\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: \"auto\",\r\n  },\r\n  \"@media (max-width: 1248px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  \"@media (max-width: 768px)\": {\r\n    root: {\r\n    },\r\n  },\r\n \r\n}));\r\n\r\n/**\r\n * Componente para organizar en el index los videos en su respectiva categoria, con un buscador y filtro\r\n * @param {*} videos\r\n * @param {*} categories\r\n * @returns Contenedor con los videos y categorias \r\n */\r\nfunction VideosListUser({videos, categories, ...props}) {\r\n  const history = useNavigate();\r\n\r\n  const [histUsers, setHistUsers] = useState(null);\r\n  const [prefUsers, setPrefUsers] = useState(null); \r\n  const [categoriasTotales, setCategoriasTotales] = useState(null);\r\n  const { user } = useContext(Context)\r\n\r\n/**\r\n * Función para obtener el historial de los usuarios.\r\n */\r\n  const getHistorialUsers = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorialUser({'user_id':user.id});\r\n      setHistUsers(res);\r\n      //console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n/**\r\n * Función para obtener las preferencias de los usuarios\r\n */\r\n  const getPreferenciasUser = async () => {\r\n    if (!user) return;\r\n    try {\r\n      const res = await PreferenciasUserServer.ListPreferenciaUser({'user_id':user.id});   \r\n      setPrefUsers(res);\r\n     // console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n\r\n      \r\n      getHistorialUsers();\r\n      getPreferenciasUser();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  /**\r\n   * Función para organizar las categorias de videos dependiendo de las preferencias.\r\n   */\r\n  useEffect(() => {\r\n    \r\n    \r\n    if(prefUsers && categories) {\r\n      let array = [];\r\n      let array1 =[];\r\n      let array2 = [];\r\n\r\n      for (let i = 0; i < prefUsers.length; i++) {\r\n        array1.push(prefUsers[i].categoria);        \r\n      } \r\n      for (let i = 0; i < categories.length; i++) {\r\n        array2.push(categories[i]);        \r\n      }    \r\n      \r\n      for (var i = 0; i < array2.length; i++) {\r\n          var igual=false;\r\n           for (var j = 0; j < array1.length & !igual; j++) {\r\n               if(array2[i].categoria === array1[j] )\r\n                igual=true;\r\n              }\r\n          array = prefUsers\r\n          if(!igual) array.push(array2[i]);\r\n        }\r\n        \r\n      if (array) {\r\n        //aqui se soluciona esto toca hacer que se coloque el prefUser al inicio y no al final\r\n        \r\n        setCategoriasTotales(array);\r\n      }\r\n      else {\r\n        setCategoriasTotales(null);\r\n      }\r\n\r\n    }\r\n  },[categories, prefUsers])\r\n\r\n  /**\r\n   * Función para redireccionar al reproductor del video seleccionado, se crea un nuevo historial de usuario si es la primera vez en ver el video, de lo contrario se envía este historial como state\r\n   * @param {*} id \r\n   */\r\nconst verVideo = async (id, categories) => {\r\n  //console.log(\"CATListUser2\", categories);\r\n\r\n  // Si no hay usuario logueado y el video es un webinar (categoría 3), redirige directo sin guardar historial\r\n  if (!user?.id && categories === 13) {\r\n    history(`/seeWebinar/${id}`);\r\n    return;\r\n  }\r\n\r\n  // Si hay usuario logueado o no es webinar, registrar historial y redirigir\r\n  if (user?.id) {\r\n    const formData = new FormData();\r\n    formData.append(\"usuario\", user.id);\r\n    formData.append(\"video\", id);\r\n\r\n    let histUser = null;\r\n\r\n    try {\r\n      // Verificar si ya existe historial para este usuario y video\r\n      const existente = histUsers.find(\r\n        (h) => h.usuario?.id === user.id && h.video === id\r\n      );\r\n\r\n      if (existente) {\r\n        histUser = existente;\r\n      } else {\r\n        const hu = await HistorialUserServer.RegisterHistorialUser(formData);\r\n        histUser = hu.data;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error registrando historial:\", error);\r\n    }\r\n\r\n    // Redirigir al video con historial\r\n    history(`/seeVideo/${id}`, { state: histUser });\r\n  } else {\r\n    // Si no hay usuario logueado y no es webinar, redirige directo a ver video sin historial\r\n    history(`/seeVideo/${id}`);\r\n  }\r\n};\r\n\r\n  //console.log(categoriasTotales);\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <div id=\"carousel_videos\" className=\" \">\r\n        {/* <h2 className=\"pb-2\">🕑 Últimos videos</h2> */}\r\n        {/* videos carousel usuario */}\r\n        {/* aca se coloca los ultimos videos traidos del histVisdeoUser */}\r\n        <Carousel  className={classes.root} id=\"carousel\" >\r\n          {videos &&\r\n            props.search(videos).slice(0, 6).map((video,index) => (\r\n              <Carousel.Item key={index} style={{ minHeight: \"400px\" }}>\r\n                <VideosItem\r\n                  key={video.id}\r\n                  video={video}\r\n                  listVideos={props.listVideos}\r\n                  histUsers={histUsers}\r\n                  user={user}\r\n                  verVideo={verVideo}\r\n                />\r\n              </Carousel.Item>\r\n\r\n            ) )}\r\n        </Carousel>\r\n      </div>\r\n     <br></br>\r\n     <br></br>\r\n      \r\n      <div id=\"card_videos\" className=\"mt-5\"   > \r\n      \r\n        {videos && prefUsers ? \r\n          <div className=\"\">\r\n            {/* videos por categorias usuario */}\r\n              {            \r\n              categoriasTotales && props.search2(categoriasTotales).map((element, index) => (\r\n                <>\r\n                { props.search2(categoriasTotales).length <= 1 ?\r\n                  \r\n                <VideoListSearch \r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}\r\n                >\r\n                </VideoListSearch>\r\n                :\r\n                <VideosCategoriaFila\r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}  \r\n                  >\r\n                </VideosCategoriaFila>\r\n                }   \r\n                  </>\r\n                ))\r\n              }\r\n          </div>\r\n        :\r\n        props.search2(categories).map((element,index) => (\r\n          <div key={index} >\r\n            {props.search2(categories).length <= 1 ?\r\n            <VideoListSearch \r\n            key= {index}\r\n            categoria ={element}\r\n            videos={videos}\r\n            search={props.search}\r\n            histUsers = {histUsers}\r\n            user = {user}\r\n            verVideo= {verVideo}\r\n            >\r\n\r\n            </VideoListSearch>\r\n            :\r\n              <VideosCategoriaFila\r\n                key= {index}\r\n                categoria ={element}\r\n                videos={videos}\r\n                search={props.search}\r\n                histUsers = {histUsers}\r\n                user = {user}\r\n                verVideo= {verVideo}\r\n              >\r\n              </VideosCategoriaFila>\r\n            }\r\n\r\n              </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideosListUser;\r\n","/* eslint-disable array-callback-return */\r\nimport { useEffect, useState, useContext } from \"react\";\r\n\r\n// Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport \"../../index.css\";\r\n// Dependencies\r\nimport { ListCategorias } from \"../../services/category\";\r\nimport SearchComponent from \"./search\";\r\nimport Context from \"../context/UserContext\";\r\nimport { ErrorBoundary } from \"./errorsBoundary\";\r\n// import VideosListUser2 from './videoListUser2'\r\n import VideosListUser from './videoListUser'\r\n\r\n/**\r\n * Función para mostrar los videos con tipo Pelicula en la pestaña Peliculas\r\n * @param {object} peliculas\r\n * @returns Componente del buscador y componente lista (Dependendiendo si el usuario es admin o no, se retorna un componente distinto)\r\n */\r\nconst PeliculasList = ({ peliculas, ...props }) => {\r\n  const contenedorCarousel = document.getElementById('carousel');\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [searchParam] = useState([\"title_espanol\", \"description_esp\"]);\r\n  const [searchParam2] = useState([\"categoria\"]);\r\n  const { user } = useContext(Context)\r\n  const [filterParam, setFilterParam] = useState(\"All\");\r\n\r\n  /**\r\n   * Función para traer la lista de categorias \r\n   */\r\n  const listCategorias = async () => {\r\n    try {\r\n      const res = await ListCategorias();\r\n      setCategories(res);\r\n    } catch (error) {\r\n      console.log(\"Error\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    listCategorias();\r\n  }, []);\r\n\r\n  /**\r\n   * Función para normalizar y remover acentos de un string\r\n   * @param {string} str \r\n   * @returns {string} String sin acentos\r\n   */\r\n  const removeAccents = (str) => {\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  };\r\n\r\n  /**\r\n   * Función para realizar la búsqueda mediante el componente search\r\n   * @param {*} videos \r\n   * @returns Parámetros de la búsqueda\r\n   */\r\n  const search = (videos) => {\r\n    if (!query) {\r\n      return videos;\r\n    } else if (query) {\r\n      contenedorCarousel.style.visibility = 'hidden';\r\n      contenedorCarousel.style.height = '10px';\r\n      const queryLowerCase = removeAccents(query.toLowerCase());\r\n      return videos.filter((dato) => {\r\n        const titleMatches = removeAccents(dato.title_espanol)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const descriptionMatches = removeAccents(dato.description_esp)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const categoryMatches = dato.categorias.some((categoria) =>\r\n          removeAccents(categoria.categoria.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n\r\n        return titleMatches || descriptionMatches || categoryMatches;\r\n      });\r\n    } else {\r\n      return videos.filter((dato) =>\r\n        removeAccents(dato.categorias.categoria.toString())\r\n          .toLowerCase()\r\n          .indexOf(removeAccents(query.toLowerCase())) > -1\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Función para realizar el filtro por categoría\r\n   * @param {*} categories \r\n   * @returns Resultado del filtro\r\n   */\r\n  const search2 = (categories) => {\r\n    return categories.filter((item) => {\r\n      if (item.categoria === filterParam && contenedorCarousel) {\r\n        contenedorCarousel.style.visibility = \"hidden\";\r\n        contenedorCarousel.style.height = \"10px\";\r\n\r\n        return searchParam2.some((parameter) => {\r\n          return (\r\n            removeAccents(item[parameter])\r\n              .toString()\r\n              .toLowerCase()\r\n              .indexOf(removeAccents(query.toLowerCase())) > -1\r\n          );\r\n        });\r\n      } else if (filterParam === \"All\" && contenedorCarousel) {\r\n        contenedorCarousel.style.visibility = \"visible\";\r\n        contenedorCarousel.style.height = \"100%\";\r\n        return peliculas.filter((item) => {\r\n          return searchParam.some((parameter) => {\r\n            return (\r\n              removeAccents(item[parameter])\r\n                .toString()\r\n                .toLowerCase()\r\n                .indexOf(removeAccents(query.toLowerCase())) > -1\r\n            );\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (user) {\r\n    if (user.is_superuser) {\r\n      return (\r\n        <div className=\"\">\r\n          <SearchComponent\r\n            query={query}\r\n            setQuery={setQuery}\r\n            filterParam={filterParam}\r\n            setFilterParam={setFilterParam}\r\n            categories={categories}\r\n          ></SearchComponent>\r\n          <ErrorBoundary>\r\n            <VideosListUser\r\n              videos={peliculas}\r\n              categories={categories}\r\n              search={search}\r\n              search2={search2}\r\n            />\r\n          </ErrorBoundary>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <SearchComponent\r\n          query={query}\r\n          setQuery={setQuery}\r\n          filterParam={filterParam}\r\n          setFilterParam={setFilterParam}\r\n          categories={categories}\r\n        ></SearchComponent>\r\n        <ErrorBoundary>\r\n          <VideosListUser\r\n            videos={peliculas}\r\n            categories={categories}\r\n            search={search}\r\n            search2={search2}\r\n          />\r\n        </ErrorBoundary>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <p style={{ fontSize: \"25px\" }}>Inicia sesión para ver todos los videos!</p>\r\n  );\r\n};\r\n\r\nexport default PeliculasList;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n//dependencies\r\nimport * as VideoServer from \"../services/videoServer\";\r\nimport PeliculasList from \"../components/videos/peliculas\";\r\nimport VideoLoadingComponent from \"../components/videos/videoLoading\";\r\n//components\r\n\r\n/**\r\n * Carga todos los videos que sean 'Peliculas' para el modulo Videos de la aplicación\r\n */\r\nfunction AppPeliculas() {\r\n  const VideoLoading = VideoLoadingComponent(PeliculasList);\r\n\r\n  const [appState, setAppState] = useState({\r\n    loading: true,\r\n    videos: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    VideoServer.ListPeliculas().then((res) => {\r\n      const allVideos = res.videos;\r\n      setAppState({ loading: false, videos: allVideos });\r\n    });\r\n  }, [setAppState]);\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <VideoLoading isLoading={appState.loading} peliculas={appState.videos} />\r\n      </div>\r\n  );\r\n}\r\nexport default AppPeliculas;\r\n"],"names":["useStyles","makeStyles","theme","root","margin","display","videos","categories","props","history","useNavigate","useState","histUsers","setHistUsers","prefUsers","setPrefUsers","categoriasTotales","setCategoriasTotales","user","useContext","Context","getHistorialUsers","HistorialUserServer","id","res","console","log","getPreferenciasUser","PreferenciasUserServer","useEffect","array","array1","array2","i","length","push","categoria","igual","j","verVideo","formData","FormData","append","histUser","existente","find","h","usuario","video","hu","data","error","state","classes","className","search","slice","map","index","style","minHeight","listVideos","search2","element","peliculas","contenedorCarousel","document","getElementById","query","setQuery","setCategories","searchParam","searchParam2","filterParam","setFilterParam","listCategorias","ListCategorias","removeAccents","str","normalize","replace","visibility","height","queryLowerCase","toLowerCase","filter","dato","titleMatches","title_espanol","toString","indexOf","descriptionMatches","description_esp","categoryMatches","categorias","some","includes","item","parameter","is_superuser","fontSize","VideoLoading","VideoLoadingComponent","PeliculasList","loading","appState","setAppState","VideoServer","then","allVideos","isLoading"],"sourceRoot":""}