"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[656],{3561:function(e,r,t){var n=t(4165),s=t(5861),i=t(9439),a=t(5987),o=t(2791),c=t(7689),u=(t(8040),t(8596)),l=t(8374),d=t(9378),f=t(1756),v=t(9929),h=t(8733),p=t(2680),x=t(8434),g=(t(5258),t(184)),Z=["videos","categories"],m=(0,u.Z)((function(e){return{root:{margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}},"@media (max-width: 768px)":{root:{}}}}));r.Z=function(e){var r=e.videos,t=e.categories,u=(0,a.Z)(e,Z),b=(0,c.s0)(),w=(0,o.useState)(null),j=(0,i.Z)(w,2),k=j[0],y=j[1],S=(0,o.useState)(null),C=(0,i.Z)(S,2),L=C[0],_=C[1],V=(0,o.useState)(null),E=(0,i.Z)(V,2),N=E[0],O=E[1],U=(0,o.useContext)(p.Z).user,F=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,v.UH({user_id:U.id});case 5:r=e.sent,y(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.kt({user_id:U.id});case 5:r=e.sent,_(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){U&&(F(),I())}),[]),(0,o.useEffect)((function(){if(L&&t){for(var e=[],r=[],n=[],s=0;s<L.length;s++)r.push(L[s].categoria);for(var i=0;i<t.length;i++)n.push(t[i]);for(var a=0;a<n.length;a++){for(var o=!1,c=0;c<r.length&!o;c++)n[a].categoria===r[c]&&(o=!0);e=L,o||e.push(n[a])}O(e||null)}}),[t,L]);var A=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){var s,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==U&&void 0!==U&&U.id||13!==t){e.next=3;break}return b("/seeWebinar/".concat(r)),e.abrupt("return");case 3:if(null===U||void 0===U||!U.id){e.next=26;break}if((s=new FormData).append("usuario",U.id),s.append("video",r),i=null,e.prev=8,!(a=k.find((function(e){var t;return(null===(t=e.usuario)||void 0===t?void 0:t.id)===U.id&&e.video===r})))){e.next=14;break}i=a,e.next=18;break;case 14:return e.next=16,v.LK(s);case 16:o=e.sent,i=o.data;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),console.error("Error registrando historial:",e.t0);case 23:b("/seeVideo/".concat(r),{state:i}),e.next=27;break;case 26:b("/seeVideo/".concat(r));case 27:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(r,t){return e.apply(this,arguments)}}(),z=m();return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{id:"carousel_videos",className:" ",children:(0,g.jsx)(l.Z,{className:z.root,id:"carousel",children:r&&u.search(r).slice(0,6).map((function(e,r){return(0,g.jsx)(l.Z.Item,{style:{minHeight:"400px"},children:(0,g.jsx)(d.Z,{video:e,listVideos:u.listVideos,histUsers:k,user:U,verVideo:A},e.id)},r)}))})}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("div",{id:"card_videos",className:"mt-5",children:r&&L?(0,g.jsx)("div",{className:"",children:N&&u.search2(N).map((function(e,t){return(0,g.jsx)(g.Fragment,{children:u.search2(N).length<=1?(0,g.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:k,user:U,verVideo:A},t):(0,g.jsx)(f.Z,{categoria:e,videos:r,search:u.search,histUsers:k,user:U,verVideo:A},t)})}))}):u.search2(t).map((function(e,n){return(0,g.jsx)("div",{children:u.search2(t).length<=1?(0,g.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:k,user:U,verVideo:A},n):(0,g.jsx)(f.Z,{categoria:e,videos:r,search:u.search,histUsers:k,user:U,verVideo:A},n)},n)}))})]})}},1754:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(9439),s=t(2791),i=t(4165),a=t(5861),o=t(5987),c=(t(8040),t(1174),t(3927)),u=t(5764),l=t(9278),d=t(3561),f=t(184),v=["casos"],h=function(e){var r=e.casos,t=((0,o.Z)(e,v),document.getElementById("carousel")),h=(0,s.useState)(""),p=(0,n.Z)(h,2),x=p[0],g=p[1],Z=(0,s.useState)([]),m=(0,n.Z)(Z,2),b=m[0],w=m[1],j=(0,s.useState)(["title_espanol","description_esp"]),k=(0,n.Z)(j,1)[0],y=(0,s.useState)(["categoria"]),S=(0,n.Z)(y,1)[0],C=(0,s.useState)("All"),L=(0,n.Z)(C,2),_=L[0],V=L[1],E=localStorage.getItem("user"),N=JSON.parse(E),O=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.wb)();case 3:r=e.sent,w(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){O()}),[]);var U=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")};return N?(0,f.jsxs)("div",{children:[(0,f.jsx)(l.Z,{query:x,setQuery:g,filterParam:_,setFilterParam:V,categories:b}),(0,f.jsx)(c.S,{children:(0,f.jsx)(d.Z,{videos:r,categories:b,search:function(e){if(x){if(x){t.style.visibility="hidden",t.style.height="10px";var r=U(x.toLowerCase());return e.filter((function(e){var t=U(e.title_espanol).toString().toLowerCase().indexOf(r)>-1,n=U(e.description_esp).toString().toLowerCase().indexOf(r)>-1,s=e.categorias.some((function(e){return U(e.categoria.toLowerCase()).includes(r)}));return t||n||s}))}return e.filter((function(e){return U(e.categorias.categoria.toString()).toLowerCase().indexOf(x.toLowerCase())>-1}))}return e},search2:function(e){return e.filter((function(e){if(t){if(e.categoria===_)return t.style.visibility="hidden",t.style.height="10px",S.some((function(r){return U(e[r]).toString().toLowerCase().indexOf(U(x.toLowerCase()))>-1}));if("All"===_)return t.style.visibility="visible",t.style.height="100%",r.filter((function(e){return k.some((function(r){return U(e[r]).toString().toLowerCase().indexOf(U(x.toLowerCase()))>-1}))}))}}))}})})]}):(0,f.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},p=t(2516),x=t(1652);var g=function(){var e=(0,p.Z)(h),r=(0,s.useState)({loading:!0,videos:null}),t=(0,n.Z)(r,2),i=t[0],a=t[1];return(0,s.useEffect)((function(){x.jk().then((function(e){var r=e.videos;a({loading:!1,videos:r})}))}),[a]),(0,f.jsx)("div",{className:"App",children:(0,f.jsx)(e,{isLoading:i.loading,casos:i.videos})})}}}]);
//# sourceMappingURL=656.aa81cbcf.chunk.js.map