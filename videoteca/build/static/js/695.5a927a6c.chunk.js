"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[695],{7411:function(e,t,a){var r=a(4165),n=a(5861),o=a(3263),s=a(9778),i="https://sccotview.com/api/",l=o.Z.create({baseURL:i,timeout:5e3,headers:{Authorization:localStorage.getItem("access_token")?"JWT "+localStorage.getItem("access_token"):null,"Content-Type":"multipart/form-data",accept:"application/json"}});l.interceptors.response.use((function(e){return e}),function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var a,n,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,"undefined"!==typeof t.response){e.next=4;break}return console.warn("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==i+"api/token/refresh/"){e.next=7;break}return window.location.href="/loginuser/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=26;break}if(!(n=localStorage.getItem("refresh_token"))){e.next=24;break}if(o=JSON.parse(s.lW.from(n.split(".")[1],"base64").toString()),c=Math.ceil(Date.now()/1e3),console.log(o.exp),!(o.exp>c)){e.next=17;break}return e.abrupt("return",l.post("api/token/refresh/",{refresh:n}).then((function(e){return localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("refresh_token",e.data.refresh_token),l.defaults.headers.Authorization="JWT "+e.data.access_token,a.headers.Authorization="JWT "+e.data.access_token,l(a)})).catch((function(e){console.log(e)})));case 17:console.log("Refresh token is expired",o.exp,c),window.localStorage.removeItem("access_token"),window.localStorage.removeItem("refresh_token"),window.localStorage.removeItem("user"),window.location.href="/loginuser/";case 22:e.next=26;break;case 24:console.log("Refresh token not available."),window.location.href="/loginuser/";case 26:return 401===t.response.status&&(window.location.href="/loginuser/"),e.abrupt("return",Promise.reject(t));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.Z=l},3695:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var r=a(9439),n=a(2791),o=a(4165),s=a(5861),i=a(7689),l=(a(8040),a(1174),a(3712)),c=a(8596),u=a(8302),p=a(6314),d=a(4294),h=a(2680),f=a(6849),v=a(1479),x=a(2918),b=a(184),m=function(e){var t=e.palabrasClaves,a=(0,i.s0)(),m=(0,x.d)(!1),g=(0,r.Z)(m,3),y=g[0],Z=g[1],w=g[2],k=(0,n.useState)(""),C=(0,r.Z)(k,2),j=C[0],S=C[1],I=(0,n.useState)({}),P=(0,r.Z)(I,2),N=P[0],_=P[1],A=(0,n.useState)(t),D=(0,r.Z)(A,2),T=D[0],B=D[1],R=(0,n.useState)({palabraClave:""}),F=(0,r.Z)(R,2),z=F[0],W=F[1],M=(0,n.useContext)(h.Z).user,E=(0,c.Z)((function(e){return{paper:{marginTop:e.spacing(0),marginBottom:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center"},title1:{textAlign:"center",color:"white"}}})),L=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t.id),_(t),W({palabraClave:t.palabraClave}),Z(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(null),_({}),W({palabraClave:""}),Z(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.kt();case 3:return t=e.sent,e.next=6,t;case 6:a=e.sent,B(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){M?(O(),S(null)):a("/loginuser")}),[]);var G=E();return M?(0,b.jsxs)(l.Z,{children:[(0,b.jsx)("div",{className:G.paper,children:(0,b.jsx)(u.Z,{component:"h1",variant:"h3",children:"PalabrasClaves"})}),(0,b.jsx)(p.Z,{alignItems:"center",children:(0,b.jsx)(d.Z,{variant:"contained",color:"success",type:"submit",onClick:function(){return J()},children:"Registrar PalabraClave"})}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{})," ",(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)("section",{className:"content",children:(0,b.jsx)("div",{className:"table-responsive table-condensed table-sm tabla",children:(0,b.jsxs)("table",{className:"table table-hover",id:"dataTableData",name:"dataTableData",style:{fontSize:11,textAlign:"center"},children:[(0,b.jsx)("thead",{className:G.title1,children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{display:"none"},children:"Id"}),(0,b.jsx)("th",{children:"Codigo"}),(0,b.jsx)("th",{children:"PalabraClave"}),(0,b.jsx)("th",{})]})}),(0,b.jsx)("tbody",{style:{backgroundColor:"white"},children:0===T.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:11,children:"No hay datos"})}):T.map((function(e,t){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{display:"none"},children:e.id}),(0,b.jsx)("td",{children:e.id}),(0,b.jsx)("td",{children:e.palabraClave}),(0,b.jsx)("td",{children:(0,b.jsx)("button",{className:"btn btn-warning btn-sm float-right",type:"submit",onClick:function(){return L(e)},children:"editar"})})]},t)}))})]})})})}),(0,b.jsx)(v.Z,{handleClose:w,show:y,palabraclave_id:j,currentItem:N,setPalabrasClaves:B,setFormData:W,newData:z})]}):(0,b.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},g=a(2516),y=function(){var e=(0,g.Z)(m),t=(0,n.useContext)(h.Z).user,a=(0,n.useState)({loading:!0,palabrasClaves:null}),o=(0,r.Z)(a,2),s=o[0],i=o[1];return(0,n.useEffect)((function(){f.kt().then((function(e){i({loading:!1,palabrasClaves:e})}))}),[i]),t?(0,b.jsx)(l.Z,{children:(0,b.jsx)("div",{className:"App",children:(0,b.jsx)(e,{isLoading:s.loading,palabrasClaves:s.palabrasClaves})})}):(0,b.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})}},1479:function(e,t,a){var r=a(4165),n=a(5861),o=a(4942),s=a(1413),i=a(5987),l=(a(2791),a(6849)),c=a(5342),u=a(3360),p=a(4437),d=a(8596),h=(a(9629),a(184)),f=["handleClosePalabraClave","showPalabraClave","palabraclave_id","currentItemPalabraClave","setFormDataPalabraClave","newDataPalabraClave"],v=(0,d.Z)((function(e){return{containerModal:{border:"2px solid #ccc",borderRadius:50,boxShadow:"4px 4px 4px 0px #5a28e550"},containerForm:{height:"3rem",background:"#BFF",border:"2px solid #ccc",borderRadius:50,boxShadow:"4px 4px 4px 0px #5a28e550"},"@media (max-width: 720px)":{root:{display:"flex"}}}}));t.Z=function(e){var t=e.handleClosePalabraClave,a=e.showPalabraClave,d=e.palabraclave_id,x=(e.currentItemPalabraClave,e.setFormDataPalabraClave),b=e.newDataPalabraClave,m=(0,i.Z)(e,f),g=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var a,n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData,e.prev=2,d){e.next=9;break}return a.append("palabraClave",b.palabraClave),e.next=7,l.eA(a);case 7:e.next=12;break;case 9:return x.append("palabraClave",b.palabraClave),e.next=12,l.Zb(d,x);case 12:return e.next=14,l.kt();case 14:return n=e.sent,e.next=17,n;case 17:o=e.sent,console.log(o),m.setPalabrasClaves(o),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}(),y=v();return(0,h.jsxs)(c.Z,{show:a,onHide:t,"aria-labelledby":"example-custom-modal-styling-title",contentClassName:y.cloud,centered:!0,children:[(0,h.jsx)(c.Z.Header,{closeButton:!0,children:(0,h.jsx)(c.Z.Title,{id:"tituloModal",className:"text-dark mx-2 mt-2",children:(0,h.jsxs)("h4",{children:[d?"Editar ":"Registrar "," Palabras  claves"]})})}),(0,h.jsx)(c.Z.Body,{id:"bodyModal",children:(0,h.jsxs)(p.Z,{onSubmit:g,children:[(0,h.jsx)(p.Z.Group,{className:"mb-2 ",controlId:"exampleForm.ControlInput1",children:(0,h.jsx)(p.Z.Control,{type:"text",className:"form-control",rows:1,name:"palabraClave",value:b.palabraClave||"",onChange:function(e){var t=e.target.name;x((0,s.Z)((0,s.Z)({},b),{},(0,o.Z)({},t,e.target.value))),console.log(t),console.log("se activo el modal de palbra clave")}})}),(0,h.jsxs)(c.Z.Footer,{children:[(0,h.jsx)(u.Z,{variant:"secondary",onClick:t,children:"Cerrar"}),(0,h.jsx)(u.Z,{variant:"primary",type:"submit",onClick:t,children:d?"Guardar Cambios":"Crear"})]})]})})]})}},2516:function(e,t,a){var r=a(1413),n=a(5987),o=(a(2791),a(184)),s=["isLoading"];t.Z=function(e){return function(t){var a=t.isLoading,i=(0,n.Z)(t,s);return a?(0,o.jsxs)("div",{style:{fontSize:"25px",display:"flex",justifyContent:"center",textAlign:"center",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)("div",{className:"spinner-grow text-light",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}),"Espera por favor"]}):(0,o.jsx)(e,(0,r.Z)({},i))}}},2918:function(e,t,a){a.d(t,{d:function(){return o}});var r=a(9439),n=a(2791),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,n.useState)(e),a=(0,r.Z)(t,2),o=a[0],s=a[1],i=function(){return s(!0)},l=function(){return s(!1)};return[o,i,l]}},6849:function(e,t,a){a.d(t,{Zb:function(){return c},eA:function(){return l},kt:function(){return i}});var r=a(4165),n=a(5861),o=a(7411),s="https://sccotview.com/api/palabrasclaves/",i=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get(s);case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.next=6,t.data;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post(s,t);case 2:if(a=e.sent,console.log("registrar palabras claves"),200!==a.status){e.next=8;break}return e.next=7,a.data;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t,a){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.patch(s+t+"/",a);case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},8302:function(e,t,a){var r=a(7462),n=a(5987),o=a(2791),s=a(8182),i=a(8317),l=a(1122),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},u=o.forwardRef((function(e,t){var a=e.align,i=void 0===a?"inherit":a,u=e.classes,p=e.className,d=e.color,h=void 0===d?"initial":d,f=e.component,v=e.display,x=void 0===v?"initial":v,b=e.gutterBottom,m=void 0!==b&&b,g=e.noWrap,y=void 0!==g&&g,Z=e.paragraph,w=void 0!==Z&&Z,k=e.variant,C=void 0===k?"body1":k,j=e.variantMapping,S=void 0===j?c:j,I=(0,n.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),P=f||(w?"p":S[C]||c[C])||"span";return o.createElement(P,(0,r.Z)({className:(0,s.Z)(u.root,p,"inherit"!==C&&u[C],"initial"!==h&&u["color".concat((0,l.Z)(h))],y&&u.noWrap,m&&u.gutterBottom,w&&u.paragraph,"inherit"!==i&&u["align".concat((0,l.Z)(i))],"initial"!==x&&u["display".concat((0,l.Z)(x))]),ref:t},I))}));t.Z=(0,i.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(u)},8040:function(){},9629:function(){}}]);
//# sourceMappingURL=695.5a927a6c.chunk.js.map