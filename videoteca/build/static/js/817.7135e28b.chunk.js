"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[817],{2192:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(9439),i=n(2791),s=n(4165),o=n(5861),a=n(5987),c=(n(8040),n(1174),n(3927)),l=n(5764),d=n(9278),u=n(7689),h=n(8596),f=n(8374),v=n(9378),x=(n(5151),n(7087)),p=(n(9713),n(184)),m=((0,h.Z)((function(e){return{item:{flex:"0 0 0%",margin:"0 0px",position:"relative",padding:"0"},imagenContainer:{width:"360px",height:"190px",overflow:"hidden",border:"2px solid transparent"},imgClass:{width:"300px",height:"200px"}}})),n(1413)),g=n(1694),j=n.n(g),Z=n(3235),w=function(){return(0,p.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})},_=n(4554),C=["video","onClose"],b=function(e){var t=e.video,n=e.onClose,r=(0,a.Z)(e,C);return(0,p.jsxs)("div",{className:"content mt-3 ",children:[(0,p.jsxs)("div",{className:"content__background",children:[(0,p.jsx)("div",{className:"content__background__shadow"}),(0,p.jsx)("div",{className:"content__background__image ",style:{backgroundImage:"url(https://sccotview.com".concat(t.featured_image,")")}})]}),(0,p.jsxs)("div",{className:"content__area",children:[(0,p.jsxs)("div",{className:"content__area__container",children:[(0,p.jsx)("div",{className:"content__title pt-3",children:(0,p.jsx)(_.Z,{sx:{"& > legend":{mt:2}}})}),(0,p.jsx)("div",{className:"content__button",children:(0,p.jsx)("button",{className:"content__button__glightbox_video",onClick:function(){return r.verVideo(t.id)},children:(0,p.jsxs)("svg",{width:"131",height:"131",viewBox:"0 0 131 131",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{className:"inner-circle",d:"M65 21C40.1488 21 20 41.1488 20 66C20 90.8512 40.1488 111 65 111C89.8512 111 110 90.8512 110 66C110 41.1488 89.8512 21 65 21Z",fill:"white"}),(0,p.jsx)("circle",{className:"outer_circle",cx:"65.5",cy:"65.5",r:"64",stroke:"white"}),(0,p.jsx)("path",{className:"play",fillRule:"evenodd",clipRule:"evenodd",d:"M60 76V57L77 66.7774L60 76Z",fill:"#BF2428"})]})})})]}),(0,p.jsx)("button",{className:"content__close",onClick:n,children:(0,p.jsx)(w,{})})]})]})},N=n(5538),S=function(e){var t=e.onClick,n=e.type;return(0,p.jsx)("button",{className:"slide-button slide-button--".concat(n),onClick:t,children:(0,p.jsx)("span",{children:(0,p.jsx)(N.Z,{})})})},y=function(e){var t=e.children;return(0,p.jsx)("div",{className:"slider-wrapper",children:t})},k=function(e){var t=(0,i.useRef)(null),n=(0,i.useState)(0),s=(0,r.Z)(n,2),o=(s[0],s[1]),a=(0,i.useState)(0),c=(0,r.Z)(a,2),l=c[0],d=c[1],u=(0,i.useState)(0),h=(0,r.Z)(u,2),f=h[0],v=h[1],x=(0,i.useState)(0),p=(0,r.Z)(x,2),m=p[0],g=p[1];(0,i.useEffect)((function(){var e=t.current.clientWidth-10;o(e),v(Math.floor(e/300))}),[]);return{handlePrev:function(){m>0&&(g(m-1),d(l+300))},handleNext:function(t){m<t-1&&m<e-f&&(g(m+1),d(l-300))},slideProps:{style:{transform:"translate3d(".concat(l,"px, 0, 0)"),transition:"transform 0.4s ease"}},containerRef:t,hasPrev:m>0,hasNext:m<e-f}},L=function(){var e=(0,i.useRef)(null),t=(0,i.useState)(e),n=(0,r.Z)(t,2),s=n[0],o=n[1];return(0,i.useEffect)((function(){e.current&&e.current.scrollWidth&&e.current.clientWidth&&o(e.current.clientWidth)}),[]),{width:s,elementRef:e}},V=["children","activeSlide"],P=function(e){var t=e.children,n=e.activeSlide,s=(0,a.Z)(e,V),o=(0,u.s0)(),c=(0,i.useState)(n),l=(0,r.Z)(c,2),d=l[0],h=l[1],f=L(),v=f.width,x=f.elementRef,g=k(v,i.Children.count(t)),w=g.handlePrev,_=g.handleNext,C=g.slideProps,N=g.containerRef,P=g.hasNext,R=g.hasPrev,E=function(){h(null)},I={onSelectSlide:function(e){h(e)},onCloseSlide:E,elementRef:x,currentSlide:d,history:o},O=d===i.Children.toArray(t)[i.Children.count(t)-1];return(0,p.jsxs)(Z.Z.Provider,{value:I,children:[(0,p.jsxs)(y,{children:[(0,p.jsx)("div",{className:j()("slider",{"slider--open":null!=d}),children:(0,p.jsx)("div",(0,m.Z)((0,m.Z)({ref:N,className:"slider__container"},C),{},{children:t}))}),R&&(0,p.jsx)(S,{onClick:w,type:"prev"}),P&&!O&&(0,p.jsx)(S,{onClick:function(){_(i.Children.count(t))},type:"next"})]}),d&&(0,p.jsx)(b,{video:d,verVideo:s.verVideo,onClose:E})]})},R=n(748),E=n(8287),I=n(1079),O=n(6513),U=["video"],W=function(e){var t=e.video,n=(0,a.Z)(e,U),c=(0,i.useState)([]),l=(0,r.Z)(c,2),d=l[0],u=l[1],h=(0,i.useState)(!1),f=(0,r.Z)(h,2),v=(f[0],f[1],(0,i.useState)("")),m=(0,r.Z)(v,2),g=(m[0],m[1]),w=(0,i.useState)(!0),_=(0,r.Z)(w,2),C=(_[0],_[1],function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tipe_of_video,e.next=3,(0,E.Z)(n);case 3:r=e.sent,g(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,i.useEffect)((function(){u(function(e){var t=e.split(":"),n="";return t&&("00"!==t[0]&&(n=t[0]+"h"),"00"!==t[1]&&(n=" "+n+" "+t[1]+"min")),n.trim()}(t.duration)),C()}),[d,t.duration]),(0,p.jsx)(Z.Z.Consumer,{children:function(e){var r=e.onSelectSlide,i=e.currentSlide,s=e.elementRef,o=(e.history,i&&i.id===t.id);return(0,p.jsx)("div",{ref:s,className:j()("item",{"item--open":o}),children:(0,p.jsxs)("div",{className:"card   cursorPointer card-video",children:[(0,p.jsx)("small",{className:"d-flex justify-content-end px-3 pt-1 ",children:1==t.tipe_of_video?"Video":3==t.tipe_of_video?"Caso":2==t.tipe_of_video?"Serie":""}),(0,p.jsx)(O.Z,{onClick:function(){return n.verVideo(t.id)},children:(0,p.jsx)(x.LazyLoadImage,{effect:"blur",src:"https://sccotview.com".concat(t.featured_image),className:"card-img-top cursorPointer imagen-container",alt:"..."})}),o,(0,p.jsxs)("div",{className:"card-body p-0 px-2 d-flex flex-column justify-content-between",children:[(0,p.jsx)("p",{className:"truncate-text",onClick:function(e){e.stopPropagation(),r(t)},children:t.title_espanol}),(0,p.jsxs)("div",{className:"d-flex justify-content-between align-items-end",onClick:function(e){return e.stopPropagation()},children:[(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:d})}),(0,p.jsx)("div",{className:"bg-secondary rounded-2 mb-2 pt-1",onClick:function(e){return e.stopPropagation()},children:(0,p.jsx)(R.Z,{name:"read-only",value:parseFloat(t.score),precision:.5,readOnly:!0})})]})]},t.id),(0,p.jsx)(I.Z,{onClick:function(){return r(t)}})]},t.id)})}})},F=(0,i.memo)(W);P.Item=F;n(5258);var A=n(1756),B=n(9929),M=(n(8733),n(2680)),z=n(8434),D=["videos","categories","webinarsCondition"],q=(0,h.Z)((function(e){return{root:{},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var J=function(e){var t=e.videos,n=e.categories,c=e.webinarsCondition,l=(0,a.Z)(e,D),d=(0,u.s0)(),h=(0,i.useState)(),x=(0,r.Z)(h,2),m=x[0],g=(x[1],(0,i.useState)(null)),j=(0,r.Z)(g,2),Z=j[0],w=(j[1],(0,i.useState)(null)),_=(0,r.Z)(w,2),C=_[0],b=_[1],N=(0,i.useContext)(M.Z).user;(0,i.useEffect)((function(){if(Z&&n){for(var e=[],t=[],r=[],i=0;i<Z.length;i++)t.push(Z[i].categoria);for(var s=0;s<n.length;s++)r.push(n[s]);for(var o=0;o<r.length;o++){for(var a=!1,c=0;c<t.length&!a;c++)r[o].categoria===t[c]&&(a=!0);e=Z,a||e.push(r[o])}b(e||null)}}),[n,Z]);var S=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&N.id){e.next=3;break}return d("/seeWebinar/".concat(t)),e.abrupt("return");case 3:for(n=new FormData,i=0,n.append("usuario",N.id),n.append("video",t),e.prev=7,o=0;o<m.length;o++)(a=m[o]).usuario.id===N.id&&a.video===t&&(r=a,i++);if(0!==i){e.next=14;break}return e.next=12,B.LK(n);case 12:c=e.sent,r=c.data;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0);case 19:d("/seeVideo/".concat(t),{state:r});case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),y=q();return t?(0,p.jsx)("div",{className:"",children:c?(0,p.jsxs)("div",{id:"carousel_videos",children:[(0,p.jsx)(f.Z,{className:y.root,id:"carousel",fade:!0,children:t&&l.search(t).slice(0,6).map((function(e,n){return(0,p.jsx)(f.Z.Item,{children:(0,p.jsx)(v.Z,{video:e,listVideos:t,histUsers:m,user:N,verVideo:S,webinars:t},n)},n)}))}),(0,p.jsx)("div",{id:"card_videos",className:"",children:(Z?C:n)&&l.search2(Z?C:n).map((function(e,r){return l.search2(Z?C:n).length<=1?(0,p.jsx)(z.Z,{categoria:e,videos:t,search:l.search,histUsers:m,user:N,verVideo:S},r):(0,p.jsx)(A.Z,{categoria:e,videos:t,search:l.search,histUsers:m,user:N,verVideo:S,webinarsCondition:c},r)}))})]}):(0,p.jsxs)("div",{id:"carousel_videos",children:[(0,p.jsx)(f.Z,{className:y.root,id:"carousel",fade:!0,children:t&&l.search(t).slice(0,6).map((function(e,t){return(0,p.jsx)(f.Z.Item,{children:(0,p.jsx)(v.Z,{video:e,listVideos:l.listVideos,histUsers:m,user:N,verVideo:S},t)},t)}))}),(0,p.jsx)("div",{id:"card_videos",className:"mt-5",children:(Z?C:n)&&l.search2(Z?C:n).map((function(e,r){return l.search2(Z?C:n).length<=1?(0,p.jsx)(z.Z,{categoria:e,videos:t,search:l.search,histUsers:m,user:N,verVideo:S},r):(0,p.jsx)(A.Z,{categoria:e,videos:t,search:l.search,histUsers:m,user:N,verVideo:S},r)}))})]})}):(0,p.jsx)("div",{id:"card_videos m-5 text-center",children:(0,p.jsx)("h2",{style:{color:"white"},children:(0,p.jsx)("center",{children:"No hay videos disponibles"})})})},K=["webinars"],Q=function(e){var t=e.webinars,n=((0,a.Z)(e,K),document.getElementById("carousel")),u=(0,i.useState)(""),h=(0,r.Z)(u,2),f=h[0],v=h[1],x=(0,i.useState)([]),m=(0,r.Z)(x,2),g=m[0],j=m[1],Z=(0,i.useState)(["title_espanol","description_esp"]),w=(0,r.Z)(Z,1)[0],_=(0,i.useState)(["categoria"]),C=(0,r.Z)(_,1)[0],b=(0,i.useState)("All"),N=(0,r.Z)(b,2),S=N[0],y=N[1],k=localStorage.getItem("user");JSON.parse(k);(0,i.useEffect)((function(){}),[]);var L=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.wb)();case 3:t=e.sent,j(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){L()}),[]);var V=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")};return(0,p.jsxs)("div",{children:[(0,p.jsx)(d.Z,{query:f,setQuery:v,filterParam:S,setFilterParam:y,categories:g}),(0,p.jsx)(c.S,{children:t.length>0?(0,p.jsx)(J,{videos:t,categories:g,search:function(e){if(f){if(f){n.style.visibility="hidden",n.style.height="10px";var t=V(f.toLowerCase());return e.filter((function(e){var n=V(e.title_espanol).toString().toLowerCase().indexOf(t)>-1,r=V(e.description_esp).toString().toLowerCase().indexOf(t)>-1,i=e.categorias.some((function(e){return V(e.categoria.toLowerCase()).includes(t)}));return n||r||i}))}return e.filter((function(e){return V(e.categorias.categoria.toString()).toLowerCase().indexOf(f.toLowerCase())>-1}))}return e},search2:function(e){return e.filter((function(e){if(n){if(e.categoria===S)return n.style.visibility="hidden",n.style.height="10px",C.some((function(t){return V(e[t]).toString().toLowerCase().indexOf(V(f.toLowerCase()))>-1}));if("All"===S)return n.style.visibility="visible",n.style.height="100%",t.filter((function(e){return w.some((function(t){return V(e[t]).toString().toLowerCase().indexOf(V(f.toLowerCase()))>-1}))}))}}))},webinarsCondition:!0}):(0,p.jsx)("h1",{className:"m-5 text-center",children:"No se encontraron videos"})})]})},G=n(2516),H=n(1652);var T=function(){var e=(0,G.Z)(Q),t=(0,i.useState)({loading:!0,videos:null}),n=(0,r.Z)(t,2),s=n[0],o=n[1];return(0,i.useEffect)((function(){H.Wg().then((function(e){var t=e.videos;o({loading:!1,videos:t})}))}),[o]),(0,p.jsx)("div",{className:"App",children:(0,p.jsx)(e,{isLoading:s.loading,webinars:s.videos})})}}}]);
//# sourceMappingURL=817.7135e28b.chunk.js.map