(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[793],{7411:function(t,e,r){"use strict";var n=r(4165),a=r(5861),s=r(3263),u=r(9778),c="https://sccotview.com/api/",o=["free/","free"],i=(localStorage.getItem("access_token"),s.Z.create({baseURL:c,timeout:5e3,headers:{"Content-Type":"multipart/form-data",accept:"application/json"}}));i.interceptors.request.use((function(t){var e=localStorage.getItem("access_token"),r=o.some((function(e){return t.url.includes(e)}));return e&&!r?t.headers.Authorization="JWT "+e:delete t.headers.Authorization,t})),i.interceptors.response.use((function(t){return t}),function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,s,o,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.config,"undefined"!==typeof e.response){t.next=4;break}return console.warn("A server/network error occurred. Looks like CORS might be the problem."),t.abrupt("return",Promise.reject(e));case 4:if(401!==e.response.status||r.url!==c+"api/token/refresh/"){t.next=7;break}return window.location.href="/userlogin1/",t.abrupt("return",Promise.reject(e));case 7:if("token_not_valid"!==e.response.data.code||401!==e.response.status||"Unauthorized"!==e.response.statusText){t.next=37;break}if(!(a=localStorage.getItem("refresh_token"))){t.next=34;break}if(s=JSON.parse(u.lW.from(a.split(".")[1],"base64").toString()),o=Math.ceil(Date.now()/1e3),!(s.exp>o)){t.next=29;break}return t.prev=13,t.next=16,i.post("api/token/refresh/",{refresh:a});case 16:return f=t.sent,localStorage.setItem("access_token",f.data.access_token),localStorage.setItem("refresh_token",f.data.refresh_token),i.defaults.headers.Authorization="JWT "+f.data.access_token,r.headers.Authorization="JWT "+f.data.access_token,t.abrupt("return",i(r));case 24:t.prev=24,t.t0=t.catch(13),console.log(t.t0);case 27:t.next=32;break;case 29:console.log("Refresh token is expired",s.exp,o),localStorage.clear(),window.location.href="/userlogin2/";case 32:t.next=37;break;case 34:console.log("Refresh token not available."),localStorage.clear(),window.location.href="/userlogin3/";case 37:return 401===e.response.status&&localStorage.clear(),t.abrupt("return",Promise.reject(e));case 39:case"end":return t.stop()}}),t,null,[[13,24]])})));return function(e){return t.apply(this,arguments)}}()),e.Z=i},6627:function(t){t.exports=function(t){return t.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}},2516:function(t,e,r){"use strict";var n=r(1413),a=r(5987),s=(r(2791),r(184)),u=["isLoading"];e.Z=function(t){return function(e){var r=e.isLoading,c=(0,a.Z)(e,u);return r?(0,s.jsxs)("div",{className:"mt-4",style:{fontSize:"25px",display:"flex",justifyContent:"center",textAlign:"center",flexDirection:"column",alignItems:"center"},children:[(0,s.jsx)("div",{className:"spinner-grow text-light",role:"status",children:(0,s.jsx)("span",{className:"sr-only"})}),"Espera por favor"]}):(0,s.jsx)(t,(0,n.Z)({},c))}}},9929:function(t,e,r){"use strict";r.d(e,{F2:function(){return i},K7:function(){return o},LK:function(){return c},UH:function(){return f},o0:function(){return p}});var n=r(4165),a=r(5861),s=r(7411),u="https://sccotview.com/api/historialUser/",c=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.post(u,e);case 2:if(200!==(r=t.sent).status){t.next=7;break}return t.next=6,r.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,s.Z.get("".concat(u).concat(e));case 3:if(200!==(r=t.sent).status){t.next=8;break}return t.next=7,r.data;case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.post("".concat(u,"list_by_user/"),e);case 2:if(200!==(r=t.sent).status){t.next=7;break}return t.next=6,r.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.patch(u+e+"/",r);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},1652:function(t,e,r){"use strict";r.d(e,{Jp:function(){return h},My:function(){return i},PI:function(){return f},Wg:function(){return o},Zs:function(){return c},ff:function(){return d},gY:function(){return v},iA:function(){return x},jk:function(){return p},om:function(){return l},zj:function(){return Z}});var n=r(4165),a=r(5861),s=r(7411),u="https://sccotview.com/api/videos/",c=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u,"public/webinars/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u,"public/"));case 2:if(200!==(e=t.sent).status){t.next=6;break}return console.log(e.data),t.abrupt("return",e.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u,"listPeliculas/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u,"listCasos/"));case 2:if(200!==(e=t.sent).status){t.next=7;break}return t.next=6,e.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("".concat(u).concat(e));case 2:if(r=t.sent,console.log(r.data),200!==r.status){t.next=8;break}return t.next=7,r.data;case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get(u+"retrieve/"+e);case 2:if(200!==(r=t.sent).status){t.next=5;break}return t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.post(u,e);case 2:if(r=t.sent,console.log(r),200!==r.status){t.next=10;break}return t.next=7,r.data;case 7:case 13:return t.abrupt("return",t.sent);case 10:if(409!==r.status){t.next=14;break}return t.next=13,r.data;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.put(u+e+"/",r);case 2:if(a=t.sent,console.log(a),200!==a.status){t.next=8;break}return t.next=7,a.data;case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.patch(u+e+"/",r);case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.delete("".concat(u).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},5258:function(){}}]);
//# sourceMappingURL=793.daa2c47c.chunk.js.map