"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[574],{4345:function(e,r,t){t.d(r,{Z:function(){return y}});var n=t(4165),i=t(5861),s=t(9439),a=t(5987),o=t(2791),c=t(7689),u=(t(8040),t(8596)),d=t(8374),l=t(9378),f=(t(5151),t(7087),t(9713),t(184)),h=((0,u.Z)((function(e){return{item:{flex:"0 0 0%",margin:"0 0px",position:"relative",padding:"0"},imagenContainer:{width:"360px",height:"190px",overflow:"hidden",border:"2px solid transparent"},imgClass:{width:"300px",height:"200px"}}})),t(3743)),v=(t(5258),t(865),["categoria","verVideo"]),p=function(e){var r=e.categoria,t=e.verVideo,n=(0,a.Z)(e,v);if(r){var i=n.videos&&n.search(n.videos).filter((function(e){return e.categorias.some((function(e){return r.categoria===e.categoria}))}));return(0,f.jsx)("div",{children:i.length>0&&(0,f.jsxs)("div",{className:"col-12 contenedorXcateg",children:[(0,f.jsxs)("h2",{className:"titleCateg ms-3",children:["| ",r.categoria,(0,f.jsx)("small",{children:" \u25b6"})]},r.id),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)(h.Z,{verVideo:t,children:i.map((function(e){return(0,f.jsx)(h.Z.Item,{video:e,histUsers:n.histUsers,user:n.user,verVideo:t},e.id)}))})})]})})}},x=t(1187),g=t(9929),m=t(8733),Z=t(2680),j=["videos","categories"],w=(0,u.Z)((function(e){return{root:{maxWidth:1248,maxHeight:460,margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var y=function(e){var r=e.videos,t=e.categories,u=(0,a.Z)(e,j),h=(0,c.s0)(),v=(0,o.useState)(),y=(0,s.Z)(v,2),S=y[0],C=y[1],k=(0,o.useState)(null),b=(0,s.Z)(k,2),L=b[0],V=b[1],_=(0,o.useState)(null),N=(0,s.Z)(_,2),U=N[0],E=N[1],O=(0,o.useContext)(Z.Z).user,I=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.UH({user_id:O.id});case 3:r=e.sent,C(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.kt({user_id:O.id});case 3:r=e.sent,V(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){I(),A()}),[]),(0,o.useEffect)((function(){if(L&&t){for(var e=[],r=[],n=[],i=0;i<L.length;i++)r.push(L[i].categoria);for(var s=0;s<t.length;s++)n.push(t[s]);for(var a=0;a<n.length;a++){for(var o=!1,c=0;c<r.length&!o;c++)n[a].categoria===r[c]&&(o=!0);o||e.push(n[a])}console.log(),E(e||null)}}),[t,L]);var F=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){var t,i,s,a,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new FormData,s=0,t.append("usuario",O.id),t.append("video",r),e.prev=4,a=0;a<S.length;a++)(o=S[a]).usuario.id===O.id&&o.video===r&&(i=o,s++);if(0!==s){e.next=11;break}return e.next=9,g.LK(t);case 9:c=e.sent,i=c.data;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:h("/seeVideo/".concat(r),{state:i});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(r){return e.apply(this,arguments)}}(),z=w();return r.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{id:"carousel_videos",children:[(0,f.jsx)("h2",{children:"\ud83d\udd51 Ultimos videos"}),(0,f.jsx)(d.Z,{className:z.root,id:"carousel",fade:!0,children:r&&u.search(r).slice(0,4).map((function(e){return(0,f.jsx)(d.Z.Item,{children:(0,f.jsx)(l.Z,{video:e,listVideos:u.listVideos,histUsers:S,user:O,verVideo:F},e.id)},e.id)}))})]}),(0,f.jsx)("br",{}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{id:"card_videos",children:L?(0,f.jsxs)("div",{children:[L&&u.search2(L).map((function(e,t){return(0,f.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:S,user:O,verVideo:F},t)})),U&&u.search2(U).map((function(e,t){return(0,f.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:S,user:O,verVideo:F},t)}))]}):t&&u.search2(t).map((function(e){return(0,f.jsx)(p,{categoria:e,videos:r,search:u.search,histUsers:S,user:O,verVideo:F},e.id)}))})]}):(0,f.jsx)("div",{id:"card_videos",children:(0,f.jsx)("h2",{style:{color:"white"},children:(0,f.jsx)("center",{children:"No hay videos en este modulo!!"})})})}},1754:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var n=t(9439),i=t(2791),s=t(4165),a=t(5861),o=t(5987),c=(t(8040),t(1174),t(3927)),u=t(5764),d=t(6180),l=t(4345),f=t(184),h=["casos"],v=function(e){var r=e.casos,t=((0,o.Z)(e,h),document.getElementById("carousel")),v=(0,i.useState)(""),p=(0,n.Z)(v,2),x=p[0],g=p[1],m=(0,i.useState)([]),Z=(0,n.Z)(m,2),j=Z[0],w=Z[1],y=(0,i.useState)(["title_espanol","description_esp"]),S=(0,n.Z)(y,1)[0],C=(0,i.useState)(["categoria"]),k=(0,n.Z)(C,1)[0],b=(0,i.useState)("All"),L=(0,n.Z)(b,2),V=L[0],_=L[1],N=localStorage.getItem("user"),U=JSON.parse(N),E=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.wb)();case 3:r=e.sent,w(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){E()}),[]);var O=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")};return U?(0,f.jsxs)("div",{children:[(0,f.jsx)(d.Z,{query:x,setQuery:g,filterParam:V,setFilterParam:_,categories:j}),(0,f.jsx)(c.S,{children:(0,f.jsx)(l.Z,{videos:r,categories:j,search:function(e){if(x){if(x){t.style.visibility="hidden",t.style.height="10px";var r=O(x.toLowerCase());return e.filter((function(e){var t=O(e.title_espanol).toString().toLowerCase().indexOf(r)>-1,n=O(e.description_esp).toString().toLowerCase().indexOf(r)>-1,i=e.categorias.some((function(e){return O(e.categoria.toLowerCase()).includes(r)}));return t||n||i}))}return e.filter((function(e){return O(e.categorias.categoria.toString()).toLowerCase().indexOf(x.toLowerCase())>-1}))}return e},search2:function(e){return e.filter((function(e){if(t){if(e.categoria===V)return t.style.visibility="hidden",t.style.height="10px",k.some((function(r){return O(e[r]).toString().toLowerCase().indexOf(O(x.toLowerCase()))>-1}));if("All"===V)return t.style.visibility="visible",t.style.height="100%",r.filter((function(e){return S.some((function(r){return O(e[r]).toString().toLowerCase().indexOf(O(x.toLowerCase()))>-1}))}))}}))}})})]}):(0,f.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},p=t(2516),x=t(1652),g=t(3712);var m=function(){var e=(0,p.Z)(v),r=(0,i.useState)({loading:!0,videos:null}),t=(0,n.Z)(r,2),s=t[0],a=t[1];return(0,i.useEffect)((function(){x.jk().then((function(e){var r=e.videos;a({loading:!1,videos:r})}))}),[a]),(0,f.jsx)(g.Z,{children:(0,f.jsx)("div",{className:"App",children:(0,f.jsx)(e,{isLoading:s.loading,casos:s.videos})})})}}}]);
//# sourceMappingURL=574.ca8eabb8.chunk.js.map