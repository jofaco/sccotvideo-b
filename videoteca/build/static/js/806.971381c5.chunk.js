"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[806],{3561:function(e,r,t){var s=t(4165),n=t(5861),i=t(9439),a=t(5987),o=t(2791),c=t(7689),u=(t(8040),t(8596)),l=t(8374),d=t(9378),f=t(1756),v=t(9929),h=t(8733),p=t(2680),x=t(8434),g=(t(5258),t(184)),Z=["videos","categories"],m=(0,u.Z)((function(e){return{root:{margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}},"@media (max-width: 768px)":{root:{}}}}));r.Z=function(e){var r=e.videos,t=e.categories,u=(0,a.Z)(e,Z),j=(0,c.s0)(),w=(0,o.useState)(null),b=(0,i.Z)(w,2),y=b[0],k=b[1],S=(0,o.useState)(null),C=(0,i.Z)(S,2),L=C[0],_=C[1],V=(0,o.useState)(null),N=(0,i.Z)(V,2),E=N[0],U=N[1],F=(0,o.useContext)(p.Z).user,O=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,v.UH({user_id:F.id});case 5:r=e.sent,k(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,h.kt({user_id:F.id});case 5:r=e.sent,_(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){F&&(O(),P())}),[]),(0,o.useEffect)((function(){if(L&&t){for(var e=[],r=[],s=[],n=0;n<L.length;n++)r.push(L[n].categoria);for(var i=0;i<t.length;i++)s.push(t[i]);for(var a=0;a<s.length;a++){for(var o=!1,c=0;c<r.length&!o;c++)s[a].categoria===r[c]&&(o=!0);e=L,o||e.push(s[a])}U(e||null)}}),[t,L]);var I=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){var t,n,i,a,o,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F&&F.id){e.next=3;break}return j("/seeWebinar/".concat(r)),e.abrupt("return");case 3:for(t=new FormData,i=0,t.append("usuario",F.id),t.append("video",r),e.prev=7,a=0;a<y.length;a++)(o=y[a]).usuario.id===F.id&&o.video===r&&(n=o,i++);if(0!==i){e.next=14;break}return e.next=12,v.LK(t);case 12:c=e.sent,n=c.data;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0);case 19:j("/seeVideo/".concat(r),{state:n});case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(r){return e.apply(this,arguments)}}(),A=m();return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{id:"carousel_videos",className:" ",children:(0,g.jsx)(l.Z,{className:A.root,id:"carousel",children:r&&u.search(r).slice(0,6).map((function(e,r){return(0,g.jsx)(l.Z.Item,{style:{minHeight:"400px"},children:(0,g.jsx)(d.Z,{video:e,listVideos:u.listVideos,histUsers:y,user:F,verVideo:I},e.id)},r)}))})}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),(0,g.jsx)("div",{id:"card_videos",className:"mt-5",children:r&&L?(0,g.jsx)("div",{className:"",children:E&&u.search2(E).map((function(e,t){return(0,g.jsx)(g.Fragment,{children:u.search2(E).length<=1?(0,g.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:y,user:F,verVideo:I},t):(0,g.jsx)(f.Z,{categoria:e,videos:r,search:u.search,histUsers:y,user:F,verVideo:I},t)})}))}):u.search2(t).map((function(e,s){return(0,g.jsx)("div",{children:u.search2(t).length<=1?(0,g.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:y,user:F,verVideo:I},s):(0,g.jsx)(f.Z,{categoria:e,videos:r,search:u.search,histUsers:y,user:F,verVideo:I},s)},s)}))})]})}},8885:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var s=t(9439),n=t(2791),i=t(1652),a=t(4165),o=t(5861),c=t(5987),u=(t(8040),t(1174),t(5764)),l=t(9278),d=t(2680),f=t(3927),v=t(3561),h=t(184),p=["peliculas"],x=function(e){var r=e.peliculas,t=((0,c.Z)(e,p),document.getElementById("carousel")),i=(0,n.useState)(""),x=(0,s.Z)(i,2),g=x[0],Z=x[1],m=(0,n.useState)([]),j=(0,s.Z)(m,2),w=j[0],b=j[1],y=(0,n.useState)(["title_espanol","description_esp"]),k=(0,s.Z)(y,1)[0],S=(0,n.useState)(["categoria"]),C=(0,s.Z)(S,1)[0],L=(0,n.useContext)(d.Z).user,_=(0,n.useState)("All"),V=(0,s.Z)(_,2),N=V[0],E=V[1],U=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.wb)();case 3:r=e.sent,b(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){U()}),[]);var F=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},O=function(e){if(g){if(g){t.style.visibility="hidden",t.style.height="10px";var r=F(g.toLowerCase());return e.filter((function(e){var t=F(e.title_espanol).toString().toLowerCase().indexOf(r)>-1,s=F(e.description_esp).toString().toLowerCase().indexOf(r)>-1,n=e.categorias.some((function(e){return F(e.categoria.toLowerCase()).includes(r)}));return t||s||n}))}return e.filter((function(e){return F(e.categorias.categoria.toString()).toLowerCase().indexOf(F(g.toLowerCase()))>-1}))}return e},P=function(e){return e.filter((function(e){return e.categoria===N&&t?(t.style.visibility="hidden",t.style.height="10px",C.some((function(r){return F(e[r]).toString().toLowerCase().indexOf(F(g.toLowerCase()))>-1}))):"All"===N&&t?(t.style.visibility="visible",t.style.height="100%",r.filter((function(e){return k.some((function(r){return F(e[r]).toString().toLowerCase().indexOf(F(g.toLowerCase()))>-1}))}))):void 0}))};return L?L.is_superuser?(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)(l.Z,{query:g,setQuery:Z,filterParam:N,setFilterParam:E,categories:w}),(0,h.jsx)(f.S,{children:(0,h.jsx)(v.Z,{videos:r,categories:w,search:O,search2:P})})]}):(0,h.jsxs)("div",{children:[(0,h.jsx)(l.Z,{query:g,setQuery:Z,filterParam:N,setFilterParam:E,categories:w}),(0,h.jsx)(f.S,{children:(0,h.jsx)(v.Z,{videos:r,categories:w,search:O,search2:P})})]}):(0,h.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},g=t(2516);var Z=function(){var e=(0,g.Z)(x),r=(0,n.useState)({loading:!0,videos:null}),t=(0,s.Z)(r,2),a=t[0],o=t[1];return(0,n.useEffect)((function(){i.PI().then((function(e){var r=e.videos;o({loading:!1,videos:r})}))}),[o]),(0,h.jsx)("div",{className:"App",children:(0,h.jsx)(e,{isLoading:a.loading,peliculas:a.videos})})}}}]);
//# sourceMappingURL=806.971381c5.chunk.js.map