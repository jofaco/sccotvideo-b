{"version":3,"file":"static/js/264.5348c83e.chunk.js","mappings":"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","sources":["components/videos/peliculas.js","paginas/Peliculas.js"],"sourcesContent":["/* eslint-disable array-callback-return */\r\nimport { useEffect, useState, useContext } from \"react\";\r\n\r\n// Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport \"../../index.css\";\r\n// Dependencies\r\nimport { ListCategorias } from \"../../services/category\";\r\nimport SearchComponent from \"./search\";\r\nimport Context from \"../context/UserContext\";\r\nimport { ErrorBoundary } from \"./errorsBoundary\";\r\nimport VideosListUser2 from './videoListUser2'\r\n\r\n/**\r\n * Función para mostrar los videos con tipo Pelicula en la pestaña Peliculas\r\n * @param {object} peliculas\r\n * @returns Componente del buscador y componente lista (Dependendiendo si el usuario es admin o no, se retorna un componente distinto)\r\n */\r\nconst PeliculasList = ({ peliculas, ...props }) => {\r\n  const contenedorCarousel = document.getElementById('carousel');\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [searchParam] = useState([\"title_espanol\", \"description_esp\"]);\r\n  const [searchParam2] = useState([\"categoria\"]);\r\n  const { user } = useContext(Context)\r\n  const [filterParam, setFilterParam] = useState(\"All\");\r\n\r\n  /**\r\n   * Función para traer la lista de categorias \r\n   */\r\n  const listCategorias = async () => {\r\n    try {\r\n      const res = await ListCategorias();\r\n      setCategories(res);\r\n    } catch (error) {\r\n      console.log(\"Error\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    listCategorias();\r\n  }, []);\r\n\r\n  /**\r\n   * Función para normalizar y remover acentos de un string\r\n   * @param {string} str \r\n   * @returns {string} String sin acentos\r\n   */\r\n  const removeAccents = (str) => {\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  };\r\n\r\n  /**\r\n   * Función para realizar la búsqueda mediante el componente search\r\n   * @param {*} videos \r\n   * @returns Parámetros de la búsqueda\r\n   */\r\n  const search = (videos) => {\r\n    if (!query) {\r\n      return videos;\r\n    } else if (query) {\r\n      contenedorCarousel.style.visibility = 'hidden';\r\n      contenedorCarousel.style.height = '10px';\r\n      const queryLowerCase = removeAccents(query.toLowerCase());\r\n      return videos.filter((dato) => {\r\n        const titleMatches = removeAccents(dato.title_espanol)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const descriptionMatches = removeAccents(dato.description_esp)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const categoryMatches = dato.categorias.some((categoria) =>\r\n          removeAccents(categoria.categoria.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n\r\n        return titleMatches || descriptionMatches || categoryMatches;\r\n      });\r\n    } else {\r\n      return videos.filter((dato) =>\r\n        removeAccents(dato.categorias.categoria.toString())\r\n          .toLowerCase()\r\n          .indexOf(removeAccents(query.toLowerCase())) > -1\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Función para realizar el filtro por categoría\r\n   * @param {*} categories \r\n   * @returns Resultado del filtro\r\n   */\r\n  const search2 = (categories) => {\r\n    return categories.filter((item) => {\r\n      if (item.categoria === filterParam && contenedorCarousel) {\r\n        contenedorCarousel.style.visibility = \"hidden\";\r\n        contenedorCarousel.style.height = \"10px\";\r\n\r\n        return searchParam2.some((parameter) => {\r\n          return (\r\n            removeAccents(item[parameter])\r\n              .toString()\r\n              .toLowerCase()\r\n              .indexOf(removeAccents(query.toLowerCase())) > -1\r\n          );\r\n        });\r\n      } else if (filterParam === \"All\" && contenedorCarousel) {\r\n        contenedorCarousel.style.visibility = \"visible\";\r\n        contenedorCarousel.style.height = \"100%\";\r\n        return peliculas.filter((item) => {\r\n          return searchParam.some((parameter) => {\r\n            return (\r\n              removeAccents(item[parameter])\r\n                .toString()\r\n                .toLowerCase()\r\n                .indexOf(removeAccents(query.toLowerCase())) > -1\r\n            );\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  if (user) {\r\n    if (user.is_superuser) {\r\n      return (\r\n        <div className=\"\">\r\n          <SearchComponent\r\n            query={query}\r\n            setQuery={setQuery}\r\n            filterParam={filterParam}\r\n            setFilterParam={setFilterParam}\r\n            categories={categories}\r\n          ></SearchComponent>\r\n          <ErrorBoundary>\r\n            <VideosListUser2\r\n              videos={peliculas}\r\n              categories={categories}\r\n              search={search}\r\n              search2={search2}\r\n            />\r\n          </ErrorBoundary>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <SearchComponent\r\n          query={query}\r\n          setQuery={setQuery}\r\n          filterParam={filterParam}\r\n          setFilterParam={setFilterParam}\r\n          categories={categories}\r\n        ></SearchComponent>\r\n        <ErrorBoundary>\r\n          <VideosListUser2\r\n            videos={peliculas}\r\n            categories={categories}\r\n            search={search}\r\n            search2={search2}\r\n          />\r\n        </ErrorBoundary>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <p style={{ fontSize: \"25px\" }}>Inicia sesión para ver todos los videos!</p>\r\n  );\r\n};\r\n\r\nexport default PeliculasList;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n//dependencies\r\nimport * as VideoServer from \"../services/videoServer\";\r\nimport PeliculasList from \"../components/videos/peliculas\";\r\nimport VideoLoadingComponent from \"../components/videos/videoLoading\";\r\n//components\r\n\r\n/**\r\n * Carga todos los videos que sean 'Peliculas' para el modulo Videos de la aplicación\r\n */\r\nfunction AppPeliculas() {\r\n  const VideoLoading = VideoLoadingComponent(PeliculasList);\r\n\r\n  const [appState, setAppState] = useState({\r\n    loading: true,\r\n    videos: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    VideoServer.ListPeliculas().then((res) => {\r\n      const allVideos = res.videos;\r\n      setAppState({ loading: false, videos: allVideos });\r\n    });\r\n  }, [setAppState]);\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <VideoLoading isLoading={appState.loading} peliculas={appState.videos} />\r\n      </div>\r\n  );\r\n}\r\nexport default AppPeliculas;\r\n"],"names":["peliculas","contenedorCarousel","document","getElementById","useState","query","setQuery","categories","setCategories","searchParam","searchParam2","user","useContext","Context","filterParam","setFilterParam","listCategorias","ListCategorias","res","console","log","useEffect","removeAccents","str","normalize","replace","search","videos","style","visibility","height","queryLowerCase","toLowerCase","filter","dato","titleMatches","title_espanol","toString","indexOf","descriptionMatches","description_esp","categoryMatches","categorias","some","categoria","includes","search2","item","parameter","is_superuser","className","fontSize","VideoLoading","VideoLoadingComponent","PeliculasList","loading","appState","setAppState","VideoServer","then","allVideos","isLoading"],"sourceRoot":""}