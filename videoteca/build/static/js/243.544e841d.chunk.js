"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[243],{2243:function(e,n,t){t.d(n,{Z:function(){return D}});var r=t(4165),s=t(5861),i=t(9439),c=t(5987),a=t(2791),o=t(7689),l=(t(8040),t(8596)),d=t(8374),u=t(9378),h=(t(5151),t(7087)),v=(t(9713),t(184)),f=((0,l.Z)((function(e){return{item:{flex:"0 0 0%",margin:"0 0px",position:"relative",padding:"0"},imagenContainer:{width:"360px",height:"190px",overflow:"hidden",border:"2px solid transparent"},imgClass:{width:"300px",height:"200px"}}})),t(1413)),x=t(1694),p=t.n(x),m=t(3235),j=function(){return(0,v.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:(0,v.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})},g=t(4554),Z=["video","onClose"],_=function(e){var n=e.video,t=e.onClose,r=(0,c.Z)(e,Z);return(0,v.jsxs)("div",{className:"content mt-3 ",children:[(0,v.jsxs)("div",{className:"content__background",children:[(0,v.jsx)("div",{className:"content__background__shadow"}),(0,v.jsx)("div",{className:"content__background__image ",style:{backgroundImage:"url(https://sccotview.com".concat(n.featured_image,")")}})]}),(0,v.jsxs)("div",{className:"content__area",children:[(0,v.jsxs)("div",{className:"content__area__container",children:[(0,v.jsx)("div",{className:"content__title pt-3",children:(0,v.jsx)(g.Z,{sx:{"& > legend":{mt:2}}})}),(0,v.jsx)("div",{className:"content__button",children:(0,v.jsx)("button",{className:"content__button__glightbox_video",onClick:function(){return r.verVideo(n.id)},children:(0,v.jsxs)("svg",{width:"131",height:"131",viewBox:"0 0 131 131",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,v.jsx)("path",{className:"inner-circle",d:"M65 21C40.1488 21 20 41.1488 20 66C20 90.8512 40.1488 111 65 111C89.8512 111 110 90.8512 110 66C110 41.1488 89.8512 21 65 21Z",fill:"white"}),(0,v.jsx)("circle",{className:"outer_circle",cx:"65.5",cy:"65.5",r:"64",stroke:"white"}),(0,v.jsx)("path",{className:"play",fillRule:"evenodd",clipRule:"evenodd",d:"M60 76V57L77 66.7774L60 76Z",fill:"#BF2428"})]})})})]}),(0,v.jsx)("button",{className:"content__close",onClick:t,children:(0,v.jsx)(j,{})})]})]})},w=t(5538),N=function(e){var n=e.onClick,t=e.type;return(0,v.jsx)("button",{className:"slide-button slide-button--".concat(t),onClick:n,children:(0,v.jsx)("span",{children:(0,v.jsx)(w.Z,{})})})},C=function(e){var n=e.children;return(0,v.jsx)("div",{className:"slider-wrapper",children:n})},b=function(e){var n=(0,a.useRef)(null),t=(0,a.useState)(0),r=(0,i.Z)(t,2),s=(r[0],r[1]),c=(0,a.useState)(0),o=(0,i.Z)(c,2),l=o[0],d=o[1],u=(0,a.useState)(0),h=(0,i.Z)(u,2),v=h[0],f=h[1],x=(0,a.useState)(0),p=(0,i.Z)(x,2),m=p[0],j=p[1];(0,a.useEffect)((function(){var e=n.current.clientWidth-10;s(e),f(Math.floor(e/300))}),[]);return{handlePrev:function(){m>0&&(j(m-1),d(l+300))},handleNext:function(n){m<n-1&&(console.log(n),console.log(m),m<e-v&&(j(m+1),d(l-300)))},slideProps:{style:{transform:"translate3d(".concat(l,"px, 0, 0)"),transition:"transform 0.4s ease"}},containerRef:n,hasPrev:m>0,hasNext:m<e-v}},k=function(){var e=(0,a.useRef)(null),n=(0,a.useState)(e),t=(0,i.Z)(n,2),r=t[0],s=t[1];return(0,a.useEffect)((function(){e.current&&e.current.scrollWidth&&e.current.clientWidth&&s(e.current.clientWidth)}),[]),{width:r,elementRef:e}},y=["children","activeSlide"],S=function(e){var n=e.children,t=e.activeSlide,r=(0,c.Z)(e,y),s=(0,o.s0)(),l=(0,a.useState)(t),d=(0,i.Z)(l,2),u=d[0],h=d[1],x=k(),j=x.width,g=x.elementRef,Z=b(j,a.Children.count(n)),w=Z.handlePrev,S=Z.handleNext,V=Z.slideProps,P=Z.containerRef,L=Z.hasNext,R=Z.hasPrev,U=function(){h(null)},E={onSelectSlide:function(e){h(e)},onCloseSlide:U,elementRef:g,currentSlide:u,history:s},F=u===a.Children.toArray(n)[a.Children.count(n)-1];return(0,v.jsxs)(m.Z.Provider,{value:E,children:[(0,v.jsxs)(C,{children:[(0,v.jsx)("div",{className:p()("slider",{"slider--open":null!=u}),children:(0,v.jsx)("div",(0,f.Z)((0,f.Z)({ref:P,className:"slider__container"},V),{},{children:n}))}),R&&(0,v.jsx)(N,{onClick:w,type:"prev"}),L&&!F&&(0,v.jsx)(N,{onClick:function(){S(a.Children.count(n))},type:"next"})]}),u&&(0,v.jsx)(_,{video:u,verVideo:r.verVideo,onClose:U})]})},V=t(5970),P=t(8287),L=t(1079),R=t(6513),U=["video"],E=function(e){var n=e.video,t=(0,c.Z)(e,U),o=(0,a.useState)([]),l=(0,i.Z)(o,2),d=l[0],u=l[1],f=(0,a.useState)(!1),x=(0,i.Z)(f,2),j=(x[0],x[1],(0,a.useState)("")),g=(0,i.Z)(j,2),Z=g[0],_=g[1],w=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.tipe_of_video,e.next=3,(0,P.Z)(t);case 3:s=e.sent,_(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){u(function(e){var n=e.split(":"),t="";return n&&("00"!==n[0]&&(t=n[0]+"h"),"00"!==n[1]&&(t=" "+t+" "+n[1]+"min")),t.trim()}(n.duration)),w()}),[d,n.duration]),(0,v.jsx)(m.Z.Consumer,{children:function(e){var r=e.onSelectSlide,s=e.currentSlide,i=e.elementRef,c=(e.history,s&&s.id===n.id);return(0,v.jsx)("div",{ref:i,className:p()("item",{"item--open":c}),children:(0,v.jsxs)("div",{className:"card   cursorPointer card-video",children:[(0,v.jsx)("small",{className:"d-flex justify-content-end px-3 pt-1 ",children:"videos"==Z.tipe_video?"Video":"casos"==Z.tipe_video?"Caso":"series"==Z.tipe_video?"Serie":""}),(0,v.jsx)(R.Z,{onClick:function(){return t.verVideo(n.id)},children:(0,v.jsx)(h.LazyLoadImage,{effect:"blur",src:"https://sccotview.com".concat(n.featured_image),className:"card-img-top cursorPointer imagen-container",alt:"..."})}),c,(0,v.jsxs)("div",{className:"card-body p-0 px-2 d-flex flex-column justify-content-between",children:[(0,v.jsx)("p",{className:"truncate-text",onClick:function(e){e.stopPropagation(),r(n)},children:n.title_espanol}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-end",onClick:function(e){return e.stopPropagation()},children:[(0,v.jsx)("div",{children:(0,v.jsx)("p",{children:d})}),(0,v.jsx)("div",{className:"bg-secondary rounded-2 mb-2 pt-1",onClick:function(e){return e.stopPropagation()},children:(0,v.jsx)(V.Z,{name:"read-only",value:parseFloat(n.score),precision:.5,readOnly:!0})})]})]},n.id),(0,v.jsx)(L.Z,{onClick:function(){return r(n)}})]},n.id)})}})};S.Item=E;t(5258);var F=t(1756),I=t(9929),M=t(8733),W=t(2680),B=t(8434),z=["videos","categories"],A=(0,l.Z)((function(e){return{root:{},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var D=function(e){var n=e.videos,t=e.categories,l=(0,c.Z)(e,z),h=(0,o.s0)(),f=(0,a.useState)(),x=(0,i.Z)(f,2),p=x[0],m=x[1],j=(0,a.useState)(null),g=(0,i.Z)(j,2),Z=g[0],_=g[1],w=(0,a.useState)(null),N=(0,i.Z)(w,2),C=N[0],b=N[1],k=(0,a.useContext)(W.Z).user,y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.UH({user_id:k.id});case 3:n=e.sent,m(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.kt({user_id:k.id});case 3:n=e.sent,_(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){y(),S()}),[]),(0,a.useEffect)((function(){if(Z&&t){for(var e=[],n=[],r=[],s=0;s<Z.length;s++)n.push(Z[s].categoria);for(var i=0;i<t.length;i++)r.push(t[i]);for(var c=0;c<r.length;c++){for(var a=!1,o=0;o<n.length&!a;o++)r[c].categoria===n[o]&&(a=!0);e=Z,a||e.push(r[c])}b(e||null)}}),[t,Z]);var V=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,i,c,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new FormData,i=0,t.append("usuario",k.id),t.append("video",n),e.prev=4,c=0;c<p.length;c++)(a=p[c]).usuario.id===k.id&&a.video===n&&(s=a,i++);if(0!==i){e.next=11;break}return e.next=9,I.LK(t);case 9:o=e.sent,s=o.data;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:h("/seeVideo/".concat(n),{state:s});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}(),P=A();return n.length>0?(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("div",{id:"carousel_videos",children:(0,v.jsx)(d.Z,{className:P.root,id:"carousel",fade:!0,children:n&&l.search(n).slice(0,6).map((function(e,n){return(0,v.jsx)(d.Z.Item,{children:(0,v.jsx)(u.Z,{video:e,listVideos:l.listVideos,histUsers:p,user:k,verVideo:V},n)},n)}))})}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("div",{id:"card_videos",className:" ",children:Z?(0,v.jsx)("div",{children:C&&l.search2(C).map((function(e,t){return(0,v.jsx)(v.Fragment,{children:l.search2(C).length<=1?(0,v.jsx)(B.Z,{categoria:e,videos:n,search:l.search,histUsers:p,user:k,verVideo:V},t):(0,v.jsx)(F.Z,{categoria:e,videos:n,search:l.search,histUsers:p,user:k,verVideo:V},t)})}))}):t&&l.search2(t).map((function(e,r){return(0,v.jsx)("div",{children:l.search2(t).length<=1?(0,v.jsx)(B.Z,{categoria:e,videos:n,search:l.search,histUsers:p,user:k,verVideo:V},r):(0,v.jsx)(F.Z,{categoria:e,videos:n,search:l.search,histUsers:p,user:k,verVideo:V},r)},r)}))})]}):(0,v.jsx)("div",{id:"card_videos m-5 text-center",children:(0,v.jsx)("h2",{style:{color:"white"},children:(0,v.jsx)("center",{children:"No hay videos disponibles"})})})}}}]);
//# sourceMappingURL=243.544e841d.chunk.js.map