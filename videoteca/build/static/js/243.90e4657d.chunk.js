"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[243],{2243:function(e,n,t){t.d(n,{Z:function(){return D}});var i=t(4165),s=t(5861),r=t(9439),o=t(5987),c=t(2791),a=t(7689),l=(t(8040),t(8596)),d=t(8374),u=t(9378),h=(t(5151),t(7087)),v=(t(9713),t(184)),f=((0,l.Z)((function(e){return{item:{flex:"0 0 0%",margin:"0 0px",position:"relative",padding:"0"},imagenContainer:{width:"360px",height:"190px",overflow:"hidden",border:"2px solid transparent"},imgClass:{width:"300px",height:"200px"}}})),t(1413)),x=t(1694),p=t.n(x),m=t(3235),j=function(){return(0,v.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:(0,v.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})},g=t(4554),Z=["video","onClose"],_=function(e){var n=e.video,t=e.onClose,i=(0,o.Z)(e,Z);return(0,v.jsxs)("div",{className:"content mt-3 ",children:[(0,v.jsxs)("div",{className:"content__background",children:[(0,v.jsx)("div",{className:"content__background__shadow"}),(0,v.jsx)("div",{className:"content__background__image ",style:{backgroundImage:"url(https://sccotview.com".concat(n.featured_image,")")}})]}),(0,v.jsxs)("div",{className:"content__area",children:[(0,v.jsxs)("div",{className:"content__area__container",children:[(0,v.jsx)("div",{className:"content__title pt-3",children:(0,v.jsx)(g.Z,{sx:{"& > legend":{mt:2}}})}),(0,v.jsx)("div",{className:"content__button",children:(0,v.jsx)("button",{className:"content__button__glightbox_video",onClick:function(){return i.verVideo(n.id)},children:(0,v.jsxs)("svg",{width:"131",height:"131",viewBox:"0 0 131 131",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,v.jsx)("path",{className:"inner-circle",d:"M65 21C40.1488 21 20 41.1488 20 66C20 90.8512 40.1488 111 65 111C89.8512 111 110 90.8512 110 66C110 41.1488 89.8512 21 65 21Z",fill:"white"}),(0,v.jsx)("circle",{className:"outer_circle",cx:"65.5",cy:"65.5",r:"64",stroke:"white"}),(0,v.jsx)("path",{className:"play",fillRule:"evenodd",clipRule:"evenodd",d:"M60 76V57L77 66.7774L60 76Z",fill:"#BF2428"})]})})})]}),(0,v.jsx)("button",{className:"content__close",onClick:t,children:(0,v.jsx)(j,{})})]})]})},w=t(5538),C=function(e){var n=e.onClick,t=e.type;return(0,v.jsx)("button",{className:"slide-button slide-button--".concat(t),onClick:n,children:(0,v.jsx)("span",{children:(0,v.jsx)(w.Z,{})})})},N=function(e){var n=e.children;return(0,v.jsx)("div",{className:"slider-wrapper",children:n})},b=function(e){var n=(0,c.useRef)(null),t=(0,c.useState)(0),i=(0,r.Z)(t,2),s=(i[0],i[1]),o=(0,c.useState)(0),a=(0,r.Z)(o,2),l=a[0],d=a[1],u=(0,c.useState)(0),h=(0,r.Z)(u,2),v=h[0],f=h[1],x=(0,c.useState)(0),p=(0,r.Z)(x,2),m=p[0],j=p[1];(0,c.useEffect)((function(){var e=n.current.clientWidth-10;s(e),f(Math.floor(e/300))}),[]);return{handlePrev:function(){m>0&&(j(m-1),d(l+300))},handleNext:function(n){m<n-1&&(console.log(n),console.log(m),m<e-v&&(j(m+1),d(l-300)))},slideProps:{style:{transform:"translate3d(".concat(l,"px, 0, 0)"),transition:"transform 0.4s ease"}},containerRef:n,hasPrev:m>0,hasNext:m<e-v}},k=function(){var e=(0,c.useRef)(null),n=(0,c.useState)(e),t=(0,r.Z)(n,2),i=t[0],s=t[1];return(0,c.useEffect)((function(){e.current&&e.current.scrollWidth&&e.current.clientWidth&&s(e.current.clientWidth)}),[]),{width:i,elementRef:e}},y=["children","activeSlide"],S=function(e){var n=e.children,t=e.activeSlide,i=(0,o.Z)(e,y),s=(0,a.s0)(),l=(0,c.useState)(t),d=(0,r.Z)(l,2),u=d[0],h=d[1],x=k(),j=x.width,g=x.elementRef,Z=b(j,c.Children.count(n)),w=Z.handlePrev,S=Z.handleNext,V=Z.slideProps,P=Z.containerRef,L=Z.hasNext,R=Z.hasPrev,U=function(){h(null)},I={onSelectSlide:function(e){h(e)},onCloseSlide:U,elementRef:g,currentSlide:u,history:s},W=u===c.Children.toArray(n)[c.Children.count(n)-1];return(0,v.jsxs)(m.Z.Provider,{value:I,children:[(0,v.jsxs)(N,{children:[(0,v.jsx)("div",{className:p()("slider",{"slider--open":null!=u}),children:(0,v.jsx)("div",(0,f.Z)((0,f.Z)({ref:P,className:"slider__container"},V),{},{children:n}))}),R&&(0,v.jsx)(C,{onClick:w,type:"prev"}),L&&!W&&(0,v.jsx)(C,{onClick:function(){S(c.Children.count(n))},type:"next"})]}),u&&(0,v.jsx)(_,{video:u,verVideo:i.verVideo,onClose:U})]})},V=t(748),P=t(8287),L=t(1079),R=t(6513),U=["video"],I=function(e){var n=e.video,t=(0,o.Z)(e,U),a=(0,c.useState)([]),l=(0,r.Z)(a,2),d=l[0],u=l[1],f=(0,c.useState)(!1),x=(0,r.Z)(f,2),j=(x[0],x[1],(0,c.useState)("")),g=(0,r.Z)(j,2),Z=(g[0],g[1]),_=(0,c.useState)(!0),w=(0,r.Z)(_,2),C=(w[0],w[1],function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.tipe_of_video,e.next=3,(0,P.Z)(t);case 3:s=e.sent,Z(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,c.useEffect)((function(){u(function(e){var n=e.split(":"),t="";return n&&("00"!==n[0]&&(t=n[0]+"h"),"00"!==n[1]&&(t=" "+t+" "+n[1]+"min")),t.trim()}(n.duration)),C()}),[d,n.duration]),(0,v.jsx)(m.Z.Consumer,{children:function(e){var i=e.onSelectSlide,s=e.currentSlide,r=e.elementRef,o=(e.history,s&&s.id===n.id);return(0,v.jsx)("div",{ref:r,className:p()("item",{"item--open":o}),children:(0,v.jsxs)("div",{className:"card   cursorPointer card-video",children:[(0,v.jsx)("small",{className:"d-flex justify-content-end px-3 pt-1 ",children:1==n.tipe_of_video?"Video":3==n.tipe_of_video?"Caso":2==n.tipe_of_video?"Serie":""}),(0,v.jsx)(R.Z,{onClick:function(){return t.verVideo(n.id)},children:(0,v.jsx)(h.LazyLoadImage,{effect:"blur",src:"https://sccotview.com".concat(n.featured_image),className:"card-img-top cursorPointer imagen-container",alt:"..."})}),o,(0,v.jsxs)("div",{className:"card-body p-0 px-2 d-flex flex-column justify-content-between",children:[(0,v.jsx)("p",{className:"truncate-text",onClick:function(e){e.stopPropagation(),i(n)},children:n.title_espanol}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-end",onClick:function(e){return e.stopPropagation()},children:[(0,v.jsx)("div",{children:(0,v.jsx)("p",{children:d})}),(0,v.jsx)("div",{className:"bg-secondary rounded-2 mb-2 pt-1",onClick:function(e){return e.stopPropagation()},children:(0,v.jsx)(V.Z,{name:"read-only",value:parseFloat(n.score),precision:.5,readOnly:!0})})]})]},n.id),(0,v.jsx)(L.Z,{onClick:function(){return i(n)}})]},n.id)})}})},W=(0,c.memo)(I);S.Item=W;t(5258);var E=t(1756),M=t(9929),B=(t(8733),t(2680)),F=t(8434),z=["videos","categories","webinarsCondition"],A=(0,l.Z)((function(e){return{root:{},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var D=function(e){var n=e.videos,t=e.categories,l=e.webinarsCondition,h=(0,o.Z)(e,z),f=(0,a.s0)(),x=(0,c.useState)(),p=(0,r.Z)(x,2),m=p[0],j=(p[1],(0,c.useState)(null)),g=(0,r.Z)(j,2),Z=g[0],_=(g[1],(0,c.useState)(null)),w=(0,r.Z)(_,2),C=w[0],N=w[1],b=(0,c.useContext)(B.Z).user;(0,c.useEffect)((function(){if(console.log("webinarsCondition:",l),console.log("webinarsCondition:",n),Z&&t){for(var e=[],i=[],s=[],r=0;r<Z.length;r++)i.push(Z[r].categoria);for(var o=0;o<t.length;o++)s.push(t[o]);for(var c=0;c<s.length;c++){for(var a=!1,d=0;d<i.length&!a;d++)s[c].categoria===i[d]&&(a=!0);e=Z,a||e.push(s[c])}N(e||null)}}),[t,Z]);var k=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,s,r,o,c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&b.id){e.next=3;break}return f("/seeWebinar/".concat(n)),e.abrupt("return");case 3:for(t=new FormData,r=0,t.append("usuario",b.id),t.append("video",n),e.prev=7,o=0;o<m.length;o++)(c=m[o]).usuario.id===b.id&&c.video===n&&(s=c,r++);if(0!==r){e.next=14;break}return e.next=12,M.LK(t);case 12:a=e.sent,s=a.data;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0);case 19:f("/seeVideo/".concat(n),{state:s});case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(n){return e.apply(this,arguments)}}(),y=A();return n?(0,v.jsx)("div",{className:"",children:l?(0,v.jsxs)("div",{id:"carousel_videos",children:[(0,v.jsx)(d.Z,{className:y.root,id:"carousel",fade:!0,children:n&&h.search(n).slice(0,6).map((function(e,t){return(0,v.jsx)(d.Z.Item,{children:(0,v.jsx)(u.Z,{video:e,listVideos:n,histUsers:m,user:b,verVideo:k,webinars:n},t)},t)}))}),(0,v.jsx)("div",{id:"card_videos",className:"",children:(Z?C:t)&&h.search2(Z?C:t).map((function(e,i){return h.search2(Z?C:t).length<=1?(0,v.jsx)(F.Z,{categoria:e,videos:n,search:h.search,histUsers:m,user:b,verVideo:k},i):(0,v.jsx)(E.Z,{categoria:e,videos:n,search:h.search,histUsers:m,user:b,verVideo:k,webinarsCondition:l},i)}))})]}):(0,v.jsxs)("div",{id:"carousel_videos",children:[(0,v.jsx)("h2",{children:"\ud83d\udd51 \xdaltimos videos"}),(0,v.jsx)(d.Z,{className:y.root,id:"carousel",fade:!0,children:n&&h.search(n).slice(0,6).map((function(e,n){return(0,v.jsx)(d.Z.Item,{children:(0,v.jsx)(u.Z,{video:e,listVideos:h.listVideos,histUsers:m,user:b,verVideo:k},n)},n)}))}),(0,v.jsx)("div",{id:"card_videos",className:"",children:(Z?C:t)&&h.search2(Z?C:t).map((function(e,i){return h.search2(Z?C:t).length<=1?(0,v.jsx)(F.Z,{categoria:e,videos:n,search:h.search,histUsers:m,user:b,verVideo:k},i):(0,v.jsx)(E.Z,{categoria:e,videos:n,search:h.search,histUsers:m,user:b,verVideo:k},i)}))})]})}):(0,v.jsx)("div",{id:"card_videos m-5 text-center",children:(0,v.jsx)("h2",{style:{color:"white"},children:(0,v.jsx)("center",{children:"No hay videos disponibles"})})})}}}]);
//# sourceMappingURL=243.90e4657d.chunk.js.map