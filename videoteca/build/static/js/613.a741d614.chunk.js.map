{"version":3,"file":"static/js/613.a741d614.chunk.js","mappings":"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","sources":["components/videos/videoListUser.js","components/admin/videosItemAdmin.js","components/admin/videosListAdmin.js","components/videos/videosList.js","paginas/Principal.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {  useContext } from \"react\";\r\n\r\n//components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n//dependencies\r\nimport VideosItem from \"./videosItem\";\r\nimport VideosCategoriaFila from \"./videosCategoriaFila\";\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as PreferenciasUserServer from \"../../services/preferenciasUser\";\r\nimport Context from \"../context/UserContext\";\r\nimport VideoListSearch from \"./videoListSearch\";\r\nimport \"../../styles/styles.css\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: \"auto\",\r\n  },\r\n  \"@media (max-width: 1248px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  \"@media (max-width: 768px)\": {\r\n    root: {\r\n    },\r\n  },\r\n \r\n}));\r\n\r\n/**\r\n * Componente para organizar en el index los videos en su respectiva categoria, con un buscador y filtro\r\n * @param {*} videos\r\n * @param {*} categories\r\n * @returns Contenedor con los videos y categorias \r\n */\r\nfunction VideosListUser({videos, categories, ...props}) {\r\n  const history = useNavigate();\r\n\r\n  const [histUsers, setHistUsers] = useState(null);\r\n  const [prefUsers, setPrefUsers] = useState(null); \r\n  const [categoriasTotales, setCategoriasTotales] = useState(null);\r\n  const { user } = useContext(Context)\r\n\r\n/**\r\n * FunciÃ³n para obtener el historial de los usuarios.\r\n */\r\n  const getHistorialUsers = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorialUser({'user_id':user.id});\r\n      setHistUsers(res);\r\n      //console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n/**\r\n * FunciÃ³n para obtener las preferencias de los usuarios\r\n */\r\n  const getPreferenciasUser = async () => {\r\n    if (!user) return;\r\n    try {\r\n      const res = await PreferenciasUserServer.ListPreferenciaUser({'user_id':user.id});   \r\n      setPrefUsers(res);\r\n     // console.log(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n\r\n      \r\n      getHistorialUsers();\r\n      getPreferenciasUser();\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  /**\r\n   * FunciÃ³n para organizar las categorias de videos dependiendo de las preferencias.\r\n   */\r\n  useEffect(() => {\r\n    \r\n    \r\n    if(prefUsers && categories) {\r\n      let array = [];\r\n      let array1 =[];\r\n      let array2 = [];\r\n\r\n      for (let i = 0; i < prefUsers.length; i++) {\r\n        array1.push(prefUsers[i].categoria);        \r\n      } \r\n      for (let i = 0; i < categories.length; i++) {\r\n        array2.push(categories[i]);        \r\n      }    \r\n      \r\n      for (var i = 0; i < array2.length; i++) {\r\n          var igual=false;\r\n           for (var j = 0; j < array1.length & !igual; j++) {\r\n               if(array2[i].categoria === array1[j] )\r\n                igual=true;\r\n              }\r\n          array = prefUsers\r\n          if(!igual) array.push(array2[i]);\r\n        }\r\n        \r\n      if (array) {\r\n        //aqui se soluciona esto toca hacer que se coloque el prefUser al inicio y no al final\r\n        \r\n        setCategoriasTotales(array);\r\n      }\r\n      else {\r\n        setCategoriasTotales(null);\r\n      }\r\n\r\n    }\r\n  },[categories, prefUsers])\r\n\r\n  /**\r\n   * FunciÃ³n para redireccionar al reproductor del video seleccionado, se crea un nuevo historial de usuario si es la primera vez en ver el video, de lo contrario se envÃ­a este historial como state\r\n   * @param {*} id \r\n   */\r\nconst verVideo = async (id) => {\r\n    if (!user || !user.id) {\r\n      // alert(\"redirigir a see/Webinar\");\r\n      // Si no hay usuario, solo redirige al video sin historial\r\n      history(`/seeWebinar/${id}`);\r\n      return;\r\n    }\r\n  \r\n    const formData = new FormData();\r\n    let histUser;\r\n    let contador = 0;\r\n  \r\n    formData.append(\"usuario\", user.id);\r\n    formData.append(\"video\", id);\r\n  \r\n    try {\r\n      for (let index = 0; index < histUsers.length; index++) {\r\n        const element = histUsers[index];\r\n        if (element.usuario.id === user.id && element.video === id) {\r\n          histUser = element;\r\n          contador++;\r\n        }\r\n      }\r\n  \r\n      if (contador === 0) {\r\n        const hu = await HistorialUserServer.RegisterHistorialUser(formData);\r\n        histUser = hu.data;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    // alert(\"llevar al see/Video\");\r\n  \r\n    history(`/seeVideo/${id}`, { state: histUser });\r\n  };\r\n  //console.log(categoriasTotales);\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <div id=\"carousel_videos\" className=\" \">\r\n        {/* <h2 className=\"pb-2\">ðŸ•‘ Ãšltimos videos</h2> */}\r\n        {/* videos carousel usuario */}\r\n        {/* aca se coloca los ultimos videos traidos del histVisdeoUser */}\r\n        <Carousel  className={classes.root} id=\"carousel\" >\r\n          {videos &&\r\n            props.search(videos).slice(0, 6).map((video,index) => (\r\n              <Carousel.Item key={index} style={{ minHeight: \"400px\" }}>\r\n                <VideosItem\r\n                  key={video.id}\r\n                  video={video}\r\n                  listVideos={props.listVideos}\r\n                  histUsers={histUsers}\r\n                  user={user}\r\n                  verVideo={verVideo}\r\n                />\r\n              </Carousel.Item>\r\n\r\n            ) )}\r\n        </Carousel>\r\n      </div>\r\n     <br></br>\r\n     <br></br>\r\n      \r\n      <div id=\"card_videos\" className=\"mt-5\"   > \r\n      \r\n        {videos && prefUsers ? \r\n          <div className=\"\">\r\n            {/* videos por categorias usuario */}\r\n              {            \r\n              categoriasTotales && props.search2(categoriasTotales).map((element, index) => (\r\n                <>\r\n                { props.search2(categoriasTotales).length <= 1 ?\r\n                  \r\n                <VideoListSearch \r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}\r\n                >\r\n                </VideoListSearch>\r\n                :\r\n                <VideosCategoriaFila\r\n                  key= {index}\r\n                  categoria ={element}\r\n                  videos={videos}\r\n                  search={props.search}\r\n                  histUsers = {histUsers}\r\n                  user = {user}\r\n                  verVideo= {verVideo}  \r\n                  >\r\n                </VideosCategoriaFila>\r\n                }   \r\n                  </>\r\n                ))\r\n              }\r\n          </div>\r\n        :\r\n        props.search2(categories).map((element,index) => (\r\n          <div key={index} >\r\n            {props.search2(categories).length <= 1 ?\r\n            <VideoListSearch \r\n            key= {index}\r\n            categoria ={element}\r\n            videos={videos}\r\n            search={props.search}\r\n            histUsers = {histUsers}\r\n            user = {user}\r\n            verVideo= {verVideo}\r\n            >\r\n\r\n            </VideoListSearch>\r\n            :\r\n              <VideosCategoriaFila\r\n                key= {index}\r\n                categoria ={element}\r\n                videos={videos}\r\n                search={props.search}\r\n                histUsers = {histUsers}\r\n                user = {user}\r\n                verVideo= {verVideo}\r\n              >\r\n              </VideosCategoriaFila>\r\n            }\r\n\r\n              </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideosListUser;\r\n","import React from \"react\";\r\n//components\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\n\r\n//MaterialUI\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from '@mui/material/Box';\r\nimport Rating from '@mui/material/Rating';\r\n\r\n//dependencias\r\nimport * as VideoServer from \"../../services/videoServer\";\r\nimport \"../../styles/styles.css\";\r\nimport { Image } from \"react-bootstrap\";\r\nimport zIndex from \"@mui/material/styles/zIndex\";\r\nimport capitalizarNombre from \"../functions/capitalizarNombre\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"white\",\r\n  },\r\n  imagenCarousel: {\r\n    cursor:\"pointer\",\r\n    minWidth: \"100%\",\r\n    objectFit: \"contain\",\r\n    maxHeight: \"85vh\",\r\n    objectPosition: \"top\",\r\n  },\r\n  carouselText: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    background: \"linear-gradient(to bottom, transparent 20%, rgba(24, 26, 54, 0.95) 90%)\",\r\n    padding: \"300px 20px 20px\",\r\n  },\r\n  textTitle:{\r\n    fontSize:\"25px\"\r\n  },\r\n\r\n  \"@media (max-width: 500px)\": {\r\n    imagenCarousel: {\r\n      minWidth: \"100%\",\r\n      objectFit: \"cover\", // Cambia a 'cover' para que ocupe mÃ¡s espacio\r\n      maxHeight: \"100vh\", // Aumenta la altura en dispositivos pequeÃ±os\r\n      objectPosition: \"top\",\r\n    },\r\n    carouselText: {\r\n      padding: \"120px 20px 10px\", // Reduce el padding del tÃ­tulo para que no tape la imagen\r\n      bottom:\"-24px\",\r\n      zIndex:\"10\"\r\n    },\r\n    textTitle:{\r\n      fontSize:\"18px\"\r\n    },\r\n    containerRating:{\r\n      display:\"none\"\r\n    }\r\n    \r\n  },\r\n}));\r\n\r\n\r\n/**\r\n * Componente para mostrar en el carousel del admin los videos con algunos campos.\r\n * @param {*} video\r\n * @returns Item de un video.\r\n */\r\nconst VideosItemAdmin = ({ video,...props }) => {\r\n  const history = useNavigate();\r\n\r\n  /**\r\n   * Elimina el video seleccionado y recarga la pagina.\r\n   * @param {pk} videoID \r\n   */\r\n  const handleDelete = async (videoID) => {\r\n    await VideoServer.DeleteVideo(videoID);\r\n    window.location.reload();\r\n  };\r\n  const changeDuration = (duration) => {\r\n    let tiempo = duration.split(':');\r\n    let new_duration = \"\";\r\n    if (tiempo) {\r\n      if (tiempo[0] !== \"00\") {\r\n        new_duration = tiempo[0] + \"h\";\r\n      }\r\n      if (tiempo[1] !== \"00\") {\r\n        new_duration = \" \" + new_duration + \" \" + tiempo[1] + \"min\";\r\n      }\r\n      /* if (tiempo[2] !==\"00\") {\r\n        new_duration = \" \"+new_duration+\" \"+tiempo[2]+\"s\";\r\n      } */\r\n    }\r\n    return new_duration.trim(); // trim() para eliminar cualquier espacio en blanco adicional\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div  id=\"contenedorItemVideo\" className=\"cursorPointer contenedorItemVideo\">\r\n      <div className={\"\"+classes.row} onClick={() => props.verVideo(video.id)}>\r\n        <div className={\" \"+classes.imagen}>\r\n            <Image\r\n              src={\"https://sccotview.com\" + video.featured_image}\r\n              className={classes.imagenCarousel +\" \"}\r\n              \r\n            >\r\n            </Image>\r\n          \r\n        </div>\r\n        <div className=\" col-12\">\r\n        <div className={classes.carouselText }>\r\n          <div className=\"d-flex justify-content-end text-capitalize  \">\r\n            <Box sx={{'& > legend': { mt: 2 }}} className={classes.containerRating}>\r\n              <div className=\"bg-secondary d-inline pt-2 px-1 rounded-2\">\r\n                <Rating name=\"read-only\" value={parseFloat(video.score)} precision={0.5} readOnly />\r\n              </div>\r\n            </Box>\r\n\r\n          </div>\r\n          <h3 className={`${classes.textTitle} text-light text-capitalize text-start border-bottom border-white pb-2`}>\r\n            {video.title_espanol}\r\n          </h3>\r\n\r\n          {/* <span className=\"text-light text-start font-weight-light text-capitalize truncate-text-6\">{video.description_esp}</span>\r\n          {video.categorias.length > 0 && (\r\n            <ul className=\"d-flex flex-wrap justify-content-start p-0 m-0 py-0 mt-2  text-light\">\r\n              <span className=\"text-capitalize me-1\">{video.categorias.length > 1 ? \"CategorÃ­as\" : \"CategorÃ­a\"} â†’ </span>\r\n              {video.categorias.map(categoria => (\r\n                <li key={categoria.id} className=\"list-group-item list-group-item-light px-2 rounded-4 mx-1\"><small className=\"text-capitalize\">{categoria.categoria}</small></li>\r\n              ))}\r\n            </ul>\r\n          )} */}\r\n      {video.autor.length > 0 && (\r\n        <ul className=\"d-flex flex-wrap justify-content-start p-0 text-light\">\r\n          <div className=\"d-flex justify-content-between w-100 mb-2\">\r\n            <div>\r\n\r\n          <span className=\"text-capitalize small\">\r\n            {video.autor.length > 1 ? \"Autores\" : \"Autor\"} â†’\r\n          </span>\r\n\r\n            {video.autor.slice(0, 2).map((autor, index, array) => (\r\n              <p key={autor.id} className=\"px-1 rounded-4 m-0 d-inline\">\r\n                <small className=\"text-capitalize \" style={{ fontSize: \"0.85rem\" }}>\r\n                  {capitalizarNombre(autor.autor) } \r\n                  {index < array.length - 1 ? \",\" : \"\"}\r\n                </small>\r\n              </p>\r\n            ))}\r\n            </div>\r\n\r\n\r\n            <p className=\"mx-1\" style={{ fontSize: \"0.95rem\" }}>{changeDuration(video.duration)}</p>\r\n          </div>\r\n\r\n          {video.autor.length > 2 && (\r\n            <span className=\"px-2 small\" style={{ fontSize: \"0.85rem\" }}>...</span>\r\n          )}\r\n        </ul>\r\n      )}\r\n\r\n\r\n\r\n          </div>\r\n          \r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideosItemAdmin;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {  useContext } from \"react\";\r\n \r\n// Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport VideosItemAdmin from \"../admin/videosItemAdmin\";\r\nimport VideosCategoriaFila from \"../videos/videosCategoriaFila\";\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as PreferenciasUserServer from \"../../services/preferenciasUser\";\r\nimport Context from \"../context/UserContext\";\r\n\r\nimport VideoListSearch from \"../videos/videoListSearch\";\r\nimport \"../../styles/styles.css\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n  \"@media (max-width: 1248px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n}));\r\n/**\r\n * Componente para organizar en el index del admin los videos en su respectiva categorÃ­a, con un buscador y filtro.\r\n */\r\nfunction VideosListAd({ videos, categories, search, search2, ...props }) {\r\n  const history = useNavigate();\r\n\r\n  const [histUsers, setHistUsers] = useState();\r\n  const [prefUsers, setPrefUsers] = useState(null); \r\n  const [categoriasTotales, setCategoriasTotales] = useState(null);\r\n  const { user } = useContext(Context)\r\n\r\n  /**\r\n   * FunciÃ³n para obtener el historial de los usuarios.\r\n   */\r\n  const getHistorialUsers = async () => {\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorialUser({'user_id':user.id});\r\n      setHistUsers(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  /**\r\n   * FunciÃ³n para obtener las preferencias de los usuarios\r\n   */\r\n  const getPreferenciasUser = async () => {\r\n    try {\r\n      const res = await PreferenciasUserServer.ListPreferenciaUser({'user_id':user.id});   \r\n      setPrefUsers(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getHistorialUsers();\r\n    getPreferenciasUser();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  /**\r\n   * FunciÃ³n para organizar las categorias de videos dependiendo de las preferencias.\r\n   */\r\n  useEffect(() => {\r\n\r\n    if(prefUsers && categories) {\r\n      let array = [];\r\n      let array1 =[];\r\n      let array2 = [];\r\n\r\n      for (let i = 0; i < prefUsers.length; i++) {\r\n        array1.push(prefUsers[i].categoria);        \r\n      } \r\n      for (let i = 0; i < categories.length; i++) {\r\n        array2.push(categories[i]);        \r\n      }    \r\n      \r\n      for (var i = 0; i < array2.length; i++) {\r\n          var igual=false;\r\n           for (var j = 0; j < array1.length & !igual; j++) {\r\n               if(array2[i].categoria === array1[j] )\r\n                igual=true;\r\n              }\r\n              array = prefUsers\r\n          if(!igual)array.push(array2[i]);\r\n      }\r\n      \r\n      if (array) {\r\n        setCategoriasTotales(array);\r\n      }\r\n      else {\r\n        setCategoriasTotales(null);\r\n      }\r\n      \r\n    }\r\n  },[categories, prefUsers])\r\n  /**\r\n   * FunciÃ³n para redireccionar al reproductor del video seleccionado, se crea un nuevo historial de usuario si es la primera vez en ver el video, de lo contrario se envÃ­a este historial como state\r\n   * @param {*} id \r\n   */\r\n  const verVideo = async (id) =>{\r\n    const formData = new FormData();\r\n    let histUser;\r\n    let contador = 0;\r\n    formData.append(\"usuario\", user.id);\r\n    formData.append(\"video\", id);\r\n    try {\r\n      for (let index = 0; index < histUsers.length; index++) {\r\n        const element = histUsers[index];\r\n        if (element.usuario.id === user.id && element.video === id) {\r\n          histUser = element;\r\n          contador++;\r\n        }\r\n      }\r\n      if (contador === 0) {\r\n        const hu = await HistorialUserServer.RegisterHistorialUser(formData);\r\n        histUser = hu.data;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    history(`/seeVideo/${id}`,{state:histUser});\r\n    \r\n  }\r\n  \r\n  const classes = useStyles();\r\n  if (videos.length > 0 ) {\r\n    return (\r\n      <div className=\"\">\r\n        <div id=\"carousel_videos\">\r\n          {/* {console.log(props.listVideos)}\r\n          {console.log(videos)} */}\r\n         \r\n          {/* <h2>ðŸ•‘ Ãšltimos videos Admin </h2> */}\r\n          <Carousel className={classes.root} id=\"carousel\" fade >\r\n            {videos &&\r\n              search(videos).slice(0, 6).map((video,index) => (\r\n                <Carousel.Item key={index}>\r\n                  <VideosItemAdmin\r\n                    key={index}\r\n                    video={video}\r\n                    histUsers = {histUsers}\r\n                    user = {user}\r\n                    verVideo = {verVideo}\r\n                  />\r\n                </Carousel.Item>\r\n              ))}\r\n          </Carousel>\r\n        </div>\r\n        \r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n       <div id=\"card_videos\" className=\"\">\r\n  {\r\n    prefUsers ? \r\n      <div>\r\n        {categoriasTotales && (() => {\r\n          const categoriasFiltradas = search2(categoriasTotales);\r\n          return categoriasFiltradas.map((element, index) => (\r\n            categoriasFiltradas.length <= 1 ?\r\n              <VideoListSearch \r\n                key={index}\r\n                categoria={element}\r\n                videos={videos}\r\n                search={search}\r\n                histUsers={histUsers}\r\n                user={user}\r\n                verVideo={verVideo}\r\n              />\r\n              :\r\n              <VideosCategoriaFila\r\n                key={index}\r\n                categoria={element}\r\n                videos={videos}\r\n                search={search}\r\n                histUsers={histUsers}\r\n                user={user}\r\n                verVideo={verVideo}\r\n              />\r\n          ));\r\n        })()}\r\n      </div>\r\n    :\r\n    categories && (() => {\r\n      const categoriasFiltradas = search2(categories);\r\n      return categoriasFiltradas.map((element, index) => (\r\n        categoriasFiltradas.length <= 1 ?\r\n          <VideoListSearch \r\n            key={index}\r\n            categoria={element}\r\n            videos={videos}\r\n            search={search}\r\n            histUsers={histUsers}\r\n            user={user}\r\n            verVideo={verVideo}\r\n          />\r\n          :\r\n          <VideosCategoriaFila\r\n            key={index}\r\n            categoria={element}\r\n            videos={videos}\r\n            search={search}\r\n            histUsers={histUsers}\r\n            user={user}\r\n            verVideo={verVideo}\r\n          />\r\n      ));\r\n    })()\r\n  }\r\n</div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <div id=\"card_videos m-5 text-center\">\r\n        <h2 style={{color:\"white\"}}><center>No hay videos disponibles</center></h2>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default VideosListAd;\r\n","/* eslint-disable array-callback-return */\r\nimport { useEffect, useState, useContext } from \"react\";\r\n\r\n// Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport \"../../index.css\";\r\n\r\n// Dependencies\r\nimport VideosListAd from \"../admin/videosListAdmin\";\r\nimport { ErrorBoundary } from \"./errorsBoundary\";\r\nimport { ListCategorias } from \"../../services/category\";\r\nimport SearchComponent from \"./search\";\r\nimport Context from \"../context/UserContext\";\r\nimport VideosListUser from \"./videoListUser\";\r\n\r\n/**\r\n * FunciÃ³n para mostrar los videos en la pantalla principal \r\n * @param {object} videos\r\n * @returns Componente del buscador y componente lista (Dependendiendo si el usuario es admin o no, se retorna un componente distinto)\r\n */\r\nconst VideosList = ({ videos }) => {\r\n  const contenedorCarousel = document.getElementById('carousel');\r\n  const [query, setQuery] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [searchParam] = useState([\"title_espanol\", \"description_esp\"]);\r\n  const [searchParam2] = useState([\"categoria\"]);\r\n  const { user } = useContext(Context);\r\n  const [filteredVideos, setFilteredVideos] = useState(videos);\r\n\r\n  const [filterParam, setFilterParam] = useState(\"All\");\r\n\r\n  /**\r\n   * FunciÃ³n para traer la lista de categorias \r\n   */\r\n \r\n\r\n  useEffect(() => {\r\n    //console.log(videos);\r\n    \r\n    const listCategorias = async () => {\r\n      try {\r\n        const res = await ListCategorias();\r\n        setCategories(res);\r\n      } catch (error) {\r\n        console.log(\"Error\");\r\n      }\r\n    };\r\n    \r\n    listCategorias();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /**\r\n   * FunciÃ³n para normalizar y remover acentos de un string\r\n   * @param {string} str \r\n   * @returns {string} String sin acentos\r\n   */\r\n  const removeAccents = (str) => {\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  };\r\n\r\n  /**\r\n   * FunciÃ³n para realizar la bÃºsqueda mediante el componente search\r\n   * @param {*} videos \r\n   * @returns ParÃ¡metros de la bÃºsqueda\r\n   */\r\n  const search = (videos) => {\r\n    \r\n    \r\n    if (!query) {\r\n      return videos;\r\n    } else if (query) {\r\n      const queryLowerCase = removeAccents(query.toLowerCase());\r\n      const videosFiltered = videos.filter((dato) => {\r\n        const titleMatches = removeAccents(dato.title_espanol).toString().toLowerCase().indexOf(queryLowerCase) > - 1;\r\n        const descriptionMatches = removeAccents(dato.description_esp).toString().toLowerCase().indexOf(queryLowerCase) > - 1;\r\n\r\n        const categoryMatches = dato.categorias.some((categoria) =>\r\n          removeAccents(categoria.categoria.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        const especialidadMatches = dato.especialidad.some((esp) =>\r\n          removeAccents(esp.especialidad.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        const subEspecialidadMatches = dato.subEspecialidad.some((esp) =>\r\n          removeAccents(esp.subEspecialidad.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        const palabraClaveMatches = dato.palabraClave.some((esp) =>\r\n          removeAccents(esp.palabraClave.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        const autorMatches = dato.autor.some((esp) =>\r\n          removeAccents(esp.autor.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        return titleMatches || descriptionMatches  || categoryMatches || especialidadMatches || palabraClaveMatches || autorMatches || subEspecialidadMatches; \r\n      });\r\n      //console.log(videosFiltered);\r\n      return videosFiltered\r\n\r\n    } else {      \r\n      return videos.filter((dato) =>\r\n        removeAccents(dato.categorias.categoria.toString())\r\n        .toLowerCase()\r\n        .indexOf(removeAccents(query.toLowerCase())) > -1\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * FunciÃ³n para realizar el filtro por categorÃ­a\r\n   * @param {*} categories \r\n   * @returns Resultado del filtro\r\n   */\r\n  const search2 = (categories) => {\r\n    return categories.filter((item) => {\r\n      if (contenedorCarousel) {\r\n        if (item.categoria === filterParam) {\r\n          contenedorCarousel.style.visibility = 'hidden';\r\n          contenedorCarousel.style.height = '10px';\r\n\r\n          return searchParam2.some((parameter) => {\r\n            return (\r\n              removeAccents(item[parameter])\r\n                .toString()\r\n                .toLowerCase()\r\n                .indexOf(removeAccents(query.toLowerCase())) > -1\r\n            );\r\n          });\r\n        } else if (filterParam === \"All\") {\r\n          contenedorCarousel.style.visibility = 'visible';\r\n          contenedorCarousel.style.height = '100%';\r\n          return videos.filter((item) => {\r\n            return searchParam.some((parameter) => {\r\n              return (\r\n                removeAccents(item[parameter])\r\n                  .toString()\r\n                  .toLowerCase()\r\n                  .indexOf(removeAccents(query.toLowerCase())) > -1\r\n              );\r\n            });\r\n          });\r\n        }\r\n      } else {\r\n        console.log(\"tuvimos problemas para cargar el carousel por favor recargar\");\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const results = search(videos);\r\n    \r\n    setFilteredVideos(results);\r\n  }, [query, videos]);\r\n\r\n  if (user && user.is_superuser) {\r\n    // Vista de administrador\r\n    return (\r\n      <div>\r\n        <SearchComponent \r\n          query={query}\r\n          setQuery={setQuery}\r\n          filterParam={filterParam}\r\n          setFilterParam={setFilterParam}\r\n          categories={categories}\r\n        />\r\n        {filteredVideos.length > 0 ? (\r\n          <VideosListAd\r\n            videos={filteredVideos}\r\n            categories={categories}\r\n            search={search}\r\n            search2={search2}\r\n          />\r\n        ) : (\r\n          <h1 className=\"m-5 text-center\">No se encontraron videos</h1>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Vista de usuario o visitante (sin iniciar sesiÃ³n)\r\n  return (\r\n    <div>\r\n      <SearchComponent \r\n        query={query}\r\n        setQuery={setQuery}\r\n        filterParam={filterParam}\r\n        setFilterParam={setFilterParam}\r\n        categories={categories}\r\n      />\r\n      <ErrorBoundary>\r\n        {filteredVideos.length > 0 ? (\r\n          <VideosListUser\r\n            videos={filteredVideos}\r\n            categories={categories}\r\n            search={search}\r\n            search2={search2}\r\n          />\r\n        ) : (\r\n          <h1 className=\"m-5 text-center\">No se encontraron videos</h1>\r\n        )}\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n  \r\n \r\n};\r\n\r\nexport default VideosList;\r\n","import { useEffect, useState, useContext } from \"react\";\r\n\r\n//dependencies\r\nimport VideosList from \"../components/videos/videosList\";\r\nimport VideoLoadingComponent from \"../components/videos/videoLoading\";\r\nimport * as VideoServer from \"../services/videoServer\";\r\n//components\r\nimport { Container } from \"@material-ui/core\";\r\nimport PropTypes from \"prop-types\";\r\nimport Context from \"../components/context/UserContext\";\r\n\r\n/**\r\n * Carga todos los videos para el Home de la aplicaciÃ³n\r\n */\r\nconst Principal = () => {\r\n  const { user } = useContext(Context);\r\n  const VideoLoading = VideoLoadingComponent(VideosList);\r\n\r\n  const [appState, setAppState] = useState({\r\n    loading: true,\r\n    videos: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        const res = user\r\n          ? await VideoServer.ListVideos()\r\n          : await VideoServer.ListVideosPublic();\r\n  \r\n        const allVideos = res\r\n        //console.log(allVideos);\r\n        \r\n        setAppState({ loading: false, videos: allVideos.videos });\r\n      } catch (error) {\r\n        console.error(\"Error cargando videos\", error);\r\n        setAppState({ loading: false, videos: [] });\r\n      }\r\n    };\r\n  \r\n    fetchVideos();\r\n  }, [user]);\r\n  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <VideoLoading isLoading={appState.loading} videos={appState.videos} />\r\n    </div>\r\n  );\r\n};\r\n\r\nPrincipal.propTypes = {\r\n  loading: PropTypes.bool,\r\n  videos: PropTypes.object,\r\n};\r\n\r\nexport default Principal;\r\n"],"names":["useStyles","makeStyles","theme","root","margin","display","videos","categories","props","history","useNavigate","useState","histUsers","setHistUsers","prefUsers","setPrefUsers","categoriasTotales","setCategoriasTotales","user","useContext","Context","getHistorialUsers","HistorialUserServer","id","res","console","log","getPreferenciasUser","PreferenciasUserServer","useEffect","array","array1","array2","i","length","push","categoria","igual","j","verVideo","formData","FormData","contador","append","index","element","usuario","video","histUser","hu","data","state","classes","className","search","slice","map","style","minHeight","listVideos","search2","paper","marginTop","spacing","marginBottom","flexDirection","alignItems","color","imagenCarousel","cursor","minWidth","objectFit","maxHeight","objectPosition","carouselText","position","bottom","left","width","background","padding","textTitle","fontSize","zIndex","containerRating","row","onClick","imagen","Image","src","featured_image","Box","sx","mt","Rating","name","value","parseFloat","score","precision","readOnly","title_espanol","autor","capitalizarNombre","duration","tiempo","split","new_duration","trim","changeDuration","Carousel","fade","categoriasFiltradas","contenedorCarousel","document","getElementById","query","setQuery","setCategories","searchParam","searchParam2","filteredVideos","setFilteredVideos","filterParam","setFilterParam","listCategorias","ListCategorias","removeAccents","str","normalize","replace","queryLowerCase","toLowerCase","filter","dato","titleMatches","toString","indexOf","descriptionMatches","description_esp","categoryMatches","categorias","some","includes","especialidadMatches","especialidad","esp","subEspecialidadMatches","subEspecialidad","palabraClaveMatches","palabraClave","autorMatches","item","visibility","height","parameter","results","is_superuser","VideoLoading","VideoLoadingComponent","VideosList","loading","appState","setAppState","fetchVideos","VideoServer","error","isLoading"],"sourceRoot":""}