{"version":3,"file":"static/js/476.28c162be.chunk.js","mappings":"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","sources":["components/videos/casos.js","paginas/Casos.js"],"sourcesContent":["/* eslint-disable array-callback-return */\r\nimport { useEffect, useState } from \"react\";\r\n//Components\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport \"../../index.css\";\r\n//dependencies\r\nimport { ErrorBoundary } from \"./errorsBoundary\";\r\nimport { ListCategorias } from \"../../services/category\";\r\nimport SearchComponent from \"./search\";\r\nimport VideosListUser2 from \"./videoListUser2\";\r\n\r\n/**\r\n * Función para mostrar los videos con tipo Casos en la pestaña Casos\r\n * @param {object} casos\r\n * @returns Componente del buscador y componente lista (Dependendiendo si el usuario es admin o no, se retorna un componente distinto)\r\n */\r\nconst CasosList = ({ casos, ...props }) => {\r\n  const contenedorCarousel = document.getElementById(\"carousel\");\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [searchParam] = useState([\"title_espanol\", \"description_esp\"]);\r\n  const [searchParam2] = useState([\"categoria\"]);\r\n\r\n  const [filterParam, setFilterParam] = useState(\"All\");\r\n\r\n  const data = localStorage.getItem(\"user\");\r\n  const user = JSON.parse(data);\r\n\r\n  /**\r\n   * Función para traer la lista de categorias \r\n   */\r\n  const listCategorias = async () => {\r\n    try {\r\n      const res = await ListCategorias();\r\n      setCategories(res);\r\n    } catch (error) {\r\n      console.log(\"Error\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    listCategorias();\r\n  }, []);\r\n\r\n  /**\r\n   * Función para normalizar y remover acentos de un string\r\n   * @param {string} str \r\n   * @returns {string} String sin acentos\r\n   */\r\n  const removeAccents = (str) => {\r\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\r\n  };\r\n\r\n  /**\r\n   * Función para realizar la busqueda mediante el componente search\r\n   * @param {*} videos \r\n   * @returns Parametros de la busqueda\r\n   */\r\n  const search = (videos) => {\r\n    if (!query) {\r\n      return videos;\r\n    } else if (query) {\r\n      contenedorCarousel.style.visibility = 'hidden';\r\n      contenedorCarousel.style.height = '10px';\r\n      const queryLowerCase = removeAccents(query.toLowerCase());\r\n      return videos.filter((dato) => {\r\n        const titleMatches = removeAccents(dato.title_espanol)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const descriptionMatches = removeAccents(dato.description_esp)\r\n          .toString()\r\n          .toLowerCase()\r\n          .indexOf(queryLowerCase) > -1;\r\n        const categoryMatches = dato.categorias.some((categoria) =>\r\n          removeAccents(categoria.categoria.toLowerCase()).includes(queryLowerCase)\r\n        );\r\n        \r\n        return titleMatches || descriptionMatches || categoryMatches;\r\n      });\r\n    } else {\r\n      return videos.filter((dato) =>\r\n        removeAccents(dato.categorias.categoria.toString())\r\n        .toLowerCase()\r\n        .indexOf(query.toLowerCase()) > -1\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Función para realizar el filtro por categoria\r\n   * @param {*} categories \r\n   * @returns Resultado del filtro\r\n   */\r\n  const search2 = (categories) => {\r\n    return categories.filter((item) => {\r\n      if (contenedorCarousel) {\r\n        if (item.categoria === filterParam) {\r\n          contenedorCarousel.style.visibility = \"hidden\";\r\n          contenedorCarousel.style.height = \"10px\";\r\n          \r\n          return searchParam2.some((parameter) => {\r\n            return (\r\n              removeAccents(item[parameter])\r\n                .toString()\r\n                .toLowerCase()\r\n                .indexOf(removeAccents(query.toLowerCase())) > -1\r\n            );\r\n          });\r\n        } else if (filterParam === \"All\") {\r\n          contenedorCarousel.style.visibility = \"visible\";\r\n          contenedorCarousel.style.height = \"100%\";\r\n          return casos.filter((item) => {\r\n            return searchParam.some((parameter) => {\r\n              return (\r\n                removeAccents(item[parameter])\r\n                  .toString()\r\n                  .toLowerCase()\r\n                  .indexOf(removeAccents(query.toLowerCase())) > -1\r\n              );\r\n            });\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  if (user) {\r\n    return (\r\n      <div>\r\n        <SearchComponent\r\n          query={query}\r\n          setQuery={setQuery}\r\n          filterParam={filterParam}\r\n          setFilterParam={setFilterParam}\r\n          categories={categories}\r\n        ></SearchComponent>\r\n        <ErrorBoundary>\r\n          <VideosListUser2\r\n            videos={casos}\r\n            categories={categories}\r\n            search={search}\r\n            search2={search2}\r\n          />\r\n        </ErrorBoundary>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <p style={{ fontSize: \"25px\" }}>Inicia sesión para ver todos los videos!</p>\r\n  );\r\n};\r\n\r\nexport default CasosList;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n//dependencies\r\nimport CasosList from \"../components/videos/casos\";\r\nimport VideoLoadingComponent from \"../components/videos/videoLoading\";\r\nimport * as VideoServer from \"../services/videoServer\";\r\n\r\n//components\r\n\r\n/**\r\n * Carga todos los videos que sean Casos para el modulo Casos de la aplicación\r\n */\r\nfunction AppCasos() {\r\n  const VideoLoading = VideoLoadingComponent(CasosList);\r\n\r\n  const [appState, setAppState] = useState({\r\n    loading: true,\r\n    videos: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    VideoServer.ListCasos().then((res) => {\r\n      const allVideos = res.videos;\r\n      setAppState({ loading: false, videos: allVideos });\r\n    });\r\n  }, [setAppState]);\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <VideoLoading isLoading={appState.loading} casos={appState.videos} />\r\n      </div>\r\n  );\r\n}\r\nexport default AppCasos;\r\n"],"names":["casos","contenedorCarousel","document","getElementById","useState","query","setQuery","categories","setCategories","searchParam","searchParam2","filterParam","setFilterParam","data","localStorage","getItem","user","JSON","parse","listCategorias","ListCategorias","res","console","log","useEffect","removeAccents","str","normalize","replace","videos","search","style","visibility","height","queryLowerCase","toLowerCase","filter","dato","titleMatches","title_espanol","toString","indexOf","descriptionMatches","description_esp","categoryMatches","categorias","some","categoria","includes","search2","item","parameter","fontSize","VideoLoading","VideoLoadingComponent","CasosList","loading","appState","setAppState","VideoServer","then","allVideos","className","isLoading"],"sourceRoot":""}