"use strict";(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[405],{4345:function(e,r,t){t.d(r,{Z:function(){return y}});var n=t(4165),i=t(5861),s=t(9439),a=t(5987),o=t(2791),c=t(7689),u=(t(8040),t(8596)),d=t(8374),l=t(9378),f=(t(5151),t(7087),t(9713),t(184)),h=((0,u.Z)((function(e){return{item:{flex:"0 0 0%",margin:"0 0px",position:"relative",padding:"0"},imagenContainer:{width:"360px",height:"190px",overflow:"hidden",border:"2px solid transparent"},imgClass:{width:"300px",height:"200px"}}})),t(3743)),v=(t(5258),t(865),["categoria","verVideo"]),p=function(e){var r=e.categoria,t=e.verVideo,n=(0,a.Z)(e,v);if(r){var i=n.videos&&n.search(n.videos).filter((function(e){return e.categorias.some((function(e){return r.categoria===e.categoria}))}));return(0,f.jsx)("div",{children:i.length>0&&(0,f.jsxs)("div",{className:"col-12 contenedorXcateg",children:[(0,f.jsxs)("h2",{className:"titleCateg ms-3",children:["| ",r.categoria,(0,f.jsx)("small",{children:" \u25b6"})]},r.id),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)(h.Z,{verVideo:t,children:i.map((function(e){return(0,f.jsx)(h.Z.Item,{video:e,histUsers:n.histUsers,user:n.user,verVideo:t},e.id)}))})})]})})}},x=t(1187),g=t(9929),Z=t(8733),m=t(2680),j=["videos","categories"],w=(0,u.Z)((function(e){return{root:{maxWidth:1248,maxHeight:460,margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var y=function(e){var r=e.videos,t=e.categories,u=(0,a.Z)(e,j),h=(0,c.s0)(),v=(0,o.useState)(),y=(0,s.Z)(v,2),C=y[0],S=y[1],b=(0,o.useState)(null),k=(0,s.Z)(b,2),L=k[0],_=k[1],V=(0,o.useState)(null),U=(0,s.Z)(V,2),N=U[0],E=U[1],I=(0,o.useContext)(m.Z).user,O=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.UH({user_id:I.id});case 3:r=e.sent,S(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.kt({user_id:I.id});case 3:r=e.sent,_(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){O(),A()}),[]),(0,o.useEffect)((function(){if(L&&t){for(var e=[],r=[],n=[],i=0;i<L.length;i++)r.push(L[i].categoria);for(var s=0;s<t.length;s++)n.push(t[s]);for(var a=0;a<n.length;a++){for(var o=!1,c=0;c<r.length&!o;c++)n[a].categoria===r[c]&&(o=!0);o||e.push(n[a])}console.log(),E(e||null)}}),[t,L]);var F=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){var t,i,s,a,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new FormData,s=0,t.append("usuario",I.id),t.append("video",r),e.prev=4,a=0;a<C.length;a++)(o=C[a]).usuario.id===I.id&&o.video===r&&(i=o,s++);if(0!==s){e.next=11;break}return e.next=9,g.LK(t);case 9:c=e.sent,i=c.data;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:h("/seeVideo/".concat(r),{state:i});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(r){return e.apply(this,arguments)}}(),P=w();return r.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{id:"carousel_videos",children:[(0,f.jsx)("h2",{children:"\ud83d\udd51 Ultimos videos"}),(0,f.jsx)(d.Z,{className:P.root,id:"carousel",fade:!0,children:r&&u.search(r).slice(0,4).map((function(e){return(0,f.jsx)(d.Z.Item,{children:(0,f.jsx)(l.Z,{video:e,listVideos:u.listVideos,histUsers:C,user:I,verVideo:F},e.id)},e.id)}))})]}),(0,f.jsx)("br",{}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{id:"card_videos",children:L?(0,f.jsxs)("div",{children:[L&&u.search2(L).map((function(e,t){return(0,f.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:C,user:I,verVideo:F},t)})),N&&u.search2(N).map((function(e,t){return(0,f.jsx)(x.Z,{categoria:e,videos:r,search:u.search,histUsers:C,user:I,verVideo:F},t)}))]}):t&&u.search2(t).map((function(e){return(0,f.jsx)(p,{categoria:e,videos:r,search:u.search,histUsers:C,user:I,verVideo:F},e.id)}))})]}):(0,f.jsx)("div",{id:"card_videos",children:(0,f.jsx)("h2",{style:{color:"white"},children:(0,f.jsx)("center",{children:"No hay videos en este modulo!!"})})})}},8885:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var n=t(9439),i=t(2791),s=t(1652),a=t(4165),o=t(5861),c=t(5987),u=(t(8040),t(1174),t(5764)),d=t(6180),l=t(2680),f=t(3927),h=t(4345),v=t(184),p=["peliculas"],x=function(e){var r=e.peliculas,t=((0,c.Z)(e,p),document.getElementById("carousel")),s=(0,i.useState)(""),x=(0,n.Z)(s,2),g=x[0],Z=x[1],m=(0,i.useState)([]),j=(0,n.Z)(m,2),w=j[0],y=j[1],C=(0,i.useState)(["title_espanol","description_esp"]),S=(0,n.Z)(C,1)[0],b=(0,i.useState)(["categoria"]),k=(0,n.Z)(b,1)[0],L=(0,i.useContext)(l.Z).user,_=(0,i.useState)("All"),V=(0,n.Z)(_,2),U=V[0],N=V[1],E=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.wb)();case 3:r=e.sent,y(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){E()}),[]);var I=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},O=function(e){if(g){if(g){t.style.visibility="hidden",t.style.height="10px";var r=I(g.toLowerCase());return e.filter((function(e){var t=I(e.title_espanol).toString().toLowerCase().indexOf(r)>-1,n=I(e.description_esp).toString().toLowerCase().indexOf(r)>-1,i=e.categorias.some((function(e){return I(e.categoria.toLowerCase()).includes(r)}));return t||n||i}))}return e.filter((function(e){return I(e.categorias.categoria.toString()).toLowerCase().indexOf(I(g.toLowerCase()))>-1}))}return e},A=function(e){return e.filter((function(e){return e.categoria===U&&t?(t.style.visibility="hidden",t.style.height="10px",k.some((function(r){return I(e[r]).toString().toLowerCase().indexOf(I(g.toLowerCase()))>-1}))):"All"===U&&t?(t.style.visibility="visible",t.style.height="100%",r.filter((function(e){return S.some((function(r){return I(e[r]).toString().toLowerCase().indexOf(I(g.toLowerCase()))>-1}))}))):void 0}))};return L?(L.is_superuser,(0,v.jsxs)("div",{children:[(0,v.jsx)(d.Z,{query:g,setQuery:Z,filterParam:U,setFilterParam:N,categories:w}),(0,v.jsx)(f.S,{children:(0,v.jsx)(h.Z,{videos:r,categories:w,search:O,search2:A})})]})):(0,v.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},g=t(2516),Z=t(3712);var m=function(){var e=(0,g.Z)(x),r=(0,i.useState)({loading:!0,videos:null}),t=(0,n.Z)(r,2),a=t[0],o=t[1];return(0,i.useEffect)((function(){s.PI().then((function(e){var r=e.videos;o({loading:!1,videos:r})}))}),[o]),(0,v.jsx)(Z.Z,{children:(0,v.jsx)("div",{className:"App",children:(0,v.jsx)(e,{isLoading:a.loading,peliculas:a.videos})})})}}}]);
//# sourceMappingURL=405.392bc84f.chunk.js.map