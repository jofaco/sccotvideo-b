(self.webpackChunkvideoteca_frontend=self.webpackChunkvideoteca_frontend||[]).push([[254],{7881:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(9439),s=r(2791),i=r(4165),a=r(5861),o=(r(8040),r(1174),r(5987)),c=r(7689),u=r(8596),l=r(8374),d=r(2592),p=r(6513),h=r(4554),f=r(5970),x=r(1652),m=(r(5258),r(184)),v=["video"],g=(0,u.Z)((function(e){return{paper:{marginTop:e.spacing(2),marginBottom:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",color:"white"},imagenCarousel:{minWidth:"100%",height:400,objectFit:"cover"},"@media (min-width: 1200px)":{}}})),Z=function(e){var t=e.video,r=(0,o.Z)(e,v),n=((0,c.s0)(),g());return(0,m.jsx)("div",{id:"contenedorItemVideo",children:(0,m.jsxs)("div",{className:"row "+n.row,children:[(0,m.jsx)("div",{className:"col-md-8  col-12 "+n.imagen,children:(0,m.jsx)(p.Z,{onClick:function(){return r.verVideo(t.id)},children:(0,m.jsx)(d.Z,{src:"https://sccotview.com"+t.featured_image,className:n.imagenCarousel})})}),(0,m.jsx)("div",{className:"col-md-4 col-12 ",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between mt-3 text-capitalize mb-3",children:[(0,m.jsx)("p",{className:"text-light h5 ",children:function(e){var t=e.split(":"),r="";return t&&("00"!==t[0]&&(r=t[0]+"h"),"00"!==t[1]&&(r=" "+r+" "+t[1]+"min")),r.trim()}(t.duration)}),(0,m.jsx)(h.Z,{sx:{"& > legend":{mt:2}},children:(0,m.jsx)("div",{className:"bg-secondary d-inline pt-3 px-1 rounded-2",children:(0,m.jsx)(f.Z,{name:"read-only",value:parseFloat(t.score),precision:.5,readOnly:!0})})})]}),(0,m.jsx)("h3",{className:"h5 text-light text-capitalize text-start border-bottom border-white pb-2",children:t.title_espanol}),(0,m.jsx)("span",{className:"text-light text-start font-weight-light text-capitalize truncate-text-6",children:t.description_esp}),t.categorias.length>0&&(0,m.jsxs)("ul",{className:"d-flex flex-wrap justify-content-start p-0 m-0 py-0  text-light",children:[(0,m.jsxs)("span",{className:"text-capitalize me-1",children:[t.categorias.length>1?"Categor\xedas":"Categor\xeda"," \u2192 "]}),t.categorias.map((function(e){return(0,m.jsx)("li",{className:"list-group-item list-group-item-light px-2 rounded-4 mx-1",children:(0,m.jsx)("small",{className:"text-capitalize",children:e.categoria})},e.id)}))]}),t.autor.length>0&&(0,m.jsxs)("ul",{className:"d-flex flex-wrap justify-content-start p-0 text-light",children:[(0,m.jsxs)("span",{className:"text-capitalize",children:[t.autor.length>1?"Autores":"Autor"," \u2192 "]}),t.autor.map((function(e){return(0,m.jsx)("p",{className:"px-2 rounded-4 ",children:(0,m.jsxs)("small",{className:"text-capitalize mb-2",children:[" "," ",e.autor]})},e.id)}))]})]})})]})})},j=r(1187),b=r(9929),w=r(8434),y=["videos","categories"],k=(0,u.Z)((function(e){return{root:{maxWidth:1248,maxHeight:450,margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}},"@media (max-width: 768px)":{root:{minHeight:780}}}}));var N=function(e){var t=e.videos,r=e.categories,u=(0,o.Z)(e,y),d=(0,c.s0)(),p=(0,s.useState)(),h=(0,n.Z)(p,2),f=h[0],x=h[1],v=localStorage.getItem("user"),g=JSON.parse(v),N=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.K7();case 3:t=e.sent,x(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){N()}),[]);var C=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var r,n,s,a,o,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new FormData,s=0,r.append("usuario",g.id),r.append("video",t),e.prev=4,a=0;a<f.length;a++)(o=f[a]).usuario.id===g.id&&o.video===t&&(n=o,s++);if(0!==s){e.next=11;break}return e.next=9,b.LK(r);case 9:c=e.sent,n=c.data;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:d("/seeVideo/".concat(t),{state:n});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),S=k();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{id:"carousel_videos",children:[(0,m.jsx)("h2",{children:"\xdaltimos videos "}),(0,m.jsx)(l.Z,{className:S.root,id:"carousel",fade:!0,children:t&&u.search(t).slice(0,6).map((function(e){return(0,m.jsx)(l.Z.Item,{interval:1e4,children:(0,m.jsx)(Z,{video:e,histUsers:f,user:g,verVideo:C},e.id)},e.id)}))})]}),(0,m.jsx)("br",{}),(0,m.jsx)("hr",{}),(0,m.jsx)("div",{id:"card_videos",children:t&&r&&u.search2(r).map((function(e,n){return(0,m.jsx)("div",{children:u.search2(r).length<=1?(0,m.jsx)(w.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:g,verVideo:C},e.id):(0,m.jsx)(j.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:g,verVideo:C},e.id)},n)}))})]})},C=r(3927),S=r(5764),_=r(9278),L=r(2680),W=r(9378),O=r(8733),E=["videos","categories"],V=(0,u.Z)((function(e){return{root:{maxWidth:1248,margin:"auto"},"@media (max-width: 1248px)":{root:{display:"flex"}}}}));var P=function(e){var t=e.videos,r=e.categories,u=(0,o.Z)(e,E),d=(0,c.s0)(),p=(0,s.useState)(null),h=(0,n.Z)(p,2),f=h[0],x=h[1],v=(0,s.useState)(null),g=(0,n.Z)(v,2),Z=g[0],y=g[1],k=(0,s.useState)(null),N=(0,n.Z)(k,2),C=N[0],S=N[1],_=(0,s.useContext)(L.Z).user,P=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.UH({user_id:_.id});case 3:t=e.sent,x(t),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.kt({user_id:_.id});case 3:t=e.sent,y(t),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){P(),I()}),[]),(0,s.useEffect)((function(){if(Z&&r){for(var e=[],t=[],n=[],s=0;s<Z.length;s++)t.push(Z[s].categoria);for(var i=0;i<r.length;i++)n.push(r[i]);for(var a=0;a<n.length;a++){for(var o=!1,c=0;c<t.length&!o;c++)n[a].categoria===t[c]&&(o=!0);e=Z,o||e.push(n[a])}S(e||null)}}),[r,Z]);var F=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var r,n,s,a,o,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new FormData,s=0,r.append("usuario",_.id),r.append("video",t),e.prev=4,a=0;a<f.length;a++)(o=f[a]).usuario.id===_.id&&o.video===t&&(n=o,s++);if(0!==s){e.next=11;break}return e.next=9,b.LK(r);case 9:c=e.sent,n=c.data;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:d("/seeVideo/".concat(t),{state:n});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return console.log(C),V(),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{id:"carousel_videos",className:"border-bottom pb-3",children:[(0,m.jsx)("h2",{className:"pb-2",children:"\ud83d\udd51 \xdaltimos videos"}),(0,m.jsx)(l.Z,{id:"carousel",fade:!0,children:t&&u.search(t).slice(0,6).map((function(e,t){return(0,m.jsx)(l.Z.Item,{children:(0,m.jsx)(W.Z,{video:e,listVideos:u.listVideos,histUsers:f,user:_,verVideo:F},e.id)},t)}))})]}),(0,m.jsx)("br",{}),(0,m.jsx)("div",{id:"card_videos",children:t&&Z?(0,m.jsx)("div",{children:C&&u.search2(C).map((function(e,r){return(0,m.jsx)(m.Fragment,{children:u.search2(C).length<=1?(0,m.jsx)(w.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:_,verVideo:F},r):(0,m.jsx)(j.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:_,verVideo:F},r)})}))}):u.search2(r).map((function(e,n){return(0,m.jsx)("div",{children:u.search2(r).length<=1?(0,m.jsx)(w.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:_,verVideo:F},n):(0,m.jsx)(j.Z,{categoria:e,videos:t,search:u.search,histUsers:f,user:_,verVideo:F},n)},n)}))})]})},I=function(e){var t=e.videos,r=document.getElementById("carousel"),o=(0,s.useState)(""),c=(0,n.Z)(o,2),u=c[0],l=c[1],d=(0,s.useState)([]),p=(0,n.Z)(d,2),h=p[0],f=p[1],x=(0,s.useState)(["title_espanol","description_esp"]),v=(0,n.Z)(x,1)[0],g=(0,s.useState)(["categoria"]),Z=(0,n.Z)(g,1)[0],j=(0,s.useContext)(L.Z).user,b=(0,s.useState)(t),w=(0,n.Z)(b,2),y=w[0],k=w[1],W=(0,s.useState)("All"),O=(0,n.Z)(W,2),E=O[0],V=O[1],I=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.wb)();case 3:t=e.sent,f(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/categorias/1/").then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),I()}),[]);var F=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},R=function(e){if(u){if(u){var t=F(u.toLowerCase()),r=e.filter((function(e){var r=F(e.title_espanol).toString().toLowerCase().indexOf(t)>-1,n=F(e.description_esp).toString().toLowerCase().indexOf(t)>-1,s=e.categorias.some((function(e){return F(e.categoria.toLowerCase()).includes(t)}));return r||n||s}));return console.log(r),r}return e.filter((function(e){return F(e.categorias.categoria.toString()).toLowerCase().indexOf(F(u.toLowerCase()))>-1}))}return e},T=function(e){return e.filter((function(e){if(r){if(e.categoria===E)return r.style.visibility="hidden",r.style.height="10px",Z.some((function(t){return F(e[t]).toString().toLowerCase().indexOf(F(u.toLowerCase()))>-1}));if("All"===E)return r.style.visibility="visible",r.style.height="100%",t.filter((function(e){return v.some((function(t){return F(e[t]).toString().toLowerCase().indexOf(F(u.toLowerCase()))>-1}))}))}else console.log("tuvimos problemas para cargar el carousel por favor recargar")}))};return(0,s.useEffect)((function(){var e=R(t);k(e)}),[u,t]),j?j.is_superuser?(0,m.jsxs)("div",{children:[(0,m.jsx)(_.Z,{query:u,setQuery:l,filterParam:E,setFilterParam:V,categories:h}),y.length>0?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(N,{videos:y,categories:h,search:R,search2:T})}):(0,m.jsx)("h1",{children:"No se encontraron videos"})]}):(0,m.jsxs)("div",{children:[(0,m.jsx)(_.Z,{query:u,setQuery:l,filterParam:E,setFilterParam:V,categories:h}),(0,m.jsx)(C.S,{children:y.length>0?(0,m.jsx)(P,{videos:y,categories:h,search:R,search2:T}):(0,m.jsx)("h1",{children:"No se encontraron videos"})})]}):(0,m.jsx)("p",{style:{fontSize:"25px"},children:"Inicia sesi\xf3n para ver todos los videos!"})},F=r(2516),R=r(3712),T=function(){var e=(0,F.Z)(I),t=(0,s.useState)({loading:!0,videos:null}),r=(0,n.Z)(t,2),i=r[0],a=r[1];return(0,s.useEffect)((function(){x.Zs().then((function(e){var t=e.videos;a({loading:!1,videos:t})}))}),[a]),(0,m.jsx)(R.Z,{children:(0,m.jsx)("div",{className:"App",children:(0,m.jsx)(e,{isLoading:i.loading,videos:i.videos})})})}},3712:function(e,t,r){"use strict";var n=r(7462),s=r(5987),i=r(4942),a=r(2791),o=r(8182),c=r(8317),u=r(1122),l=a.forwardRef((function(e,t){var r=e.classes,i=e.className,c=e.component,l=void 0===c?"div":c,d=e.disableGutters,p=void 0!==d&&d,h=e.fixed,f=void 0!==h&&h,x=e.maxWidth,m=void 0===x?"lg":x,v=(0,s.Z)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return a.createElement(l,(0,n.Z)({className:(0,o.Z)(r.root,i,f&&r.fixed,p&&r.disableGutters,!1!==m&&r["maxWidth".concat((0,u.Z)(String(m)))]),ref:t},v))}));t.Z=(0,c.Z)((function(e){return{root:(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,r){var n=e.breakpoints.values[r];return 0!==n&&(t[e.breakpoints.up(r)]={maxWidth:n}),t}),{}),maxWidthXs:(0,i.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,i.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,i.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,i.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,i.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},888:function(e,t,r){"use strict";var n=r(9047);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,i,a){if(a!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return r.PropTypes=r,r}},2007:function(e,t,r){e.exports=r(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2592:function(e,t,r){"use strict";var n=r(1413),s=r(5987),i=r(1694),a=r.n(i),o=r(2791),c=r(2007),u=r.n(c),l=r(162),d=r(184),p=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],h=(u().string,u().bool,u().bool,u().bool,u().bool,o.forwardRef((function(e,t){var r=e.bsPrefix,i=e.className,o=e.fluid,c=e.rounded,u=e.roundedCircle,h=e.thumbnail,f=(0,s.Z)(e,p);return r=(0,l.vE)(r,"img"),(0,d.jsx)("img",(0,n.Z)((0,n.Z)({ref:t},f),{},{className:a()(i,o&&"".concat(r,"-fluid"),c&&"rounded",u&&"rounded-circle",h&&"".concat(r,"-thumbnail"))}))})));h.displayName="Image",h.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.Z=h}}]);
//# sourceMappingURL=254.fb64bd0d.chunk.js.map