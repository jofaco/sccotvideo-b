{"version":3,"file":"static/js/403.4e7bf1fd.chunk.js","mappings":"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","sources":["components/videos/comentarioModal.js","components/videos/listComentariosModal.js","services/ubicacion.js","services/fechaRepro.js","services/historialVideo.js","components/videos/iframeVideo.js","components/videos/videoDetail.js","components/videos/videoLoading.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n//dependencias\r\nimport * as commentaryServer from \"../../services/commentary\";\r\n\r\n//components\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"../../styles/cloud.css\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  containerModal:{\r\n    border: \"2px solid #ccc\",\r\n    borderRadius: 10,\r\n    boxShadow: \"4px 4px 4px 0px #5a28e550\",\r\n  },\r\n  cloud: {\r\n    width: \"25rem\",\r\n    background: \"white\",\r\n    color:\"black\",\r\n    borderRadius: 10,\r\n  },\r\n  containerForm: {\r\n    height:\"3rem\",\r\n    background: \"white\",\r\n    color:\"black\",\r\n    border: \"2px solid #ccc\",\r\n    borderRadius: 10,\r\n    boxShadow: \"4px 4px 4px 0px #5a28e550\",\r\n  },\r\n\r\n  \"@media (max-width: 720px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n}));\r\nconst ModalComentario = ({histUser, handleClose, show, commentary_id, ...props}) => {\r\n  const initialFormData = {commentary:\"\", historial_user:histUser, video:props.videoID};\r\n  const [commentary, setCommentary] = useState(initialFormData);\r\n\r\n  const handleInputChange = (e) => {\r\n    let target = e.target;\r\n    let name = target.name;\r\n    setCommentary({...commentary, [name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    try {\r\n      if (!commentary_id) {\r\n        formData.append(\"commentary\", commentary.commentary);\r\n        formData.append(\"historial_user\", commentary.historial_user.id);\r\n        formData.append(\"video\", commentary.video);\r\n        await commentaryServer.RegisterCommentary(formData);\r\n      } else {\r\n        formData.append(\"commentary\", commentary.commentary);\r\n        await commentaryServer.updateCommentary(commentary_id, formData);        \r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(error);      \r\n    }\r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const getCommentary = async (commentary_id) => {\r\n      try {\r\n        const res = await commentaryServer.getCommentary(commentary_id)\r\n        setCommentary({...commentary, commentary: res.commentary})\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    if (commentary_id) {\r\n      getCommentary(commentary_id)      \r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [commentary_id])\r\n  \r\n  const classes = useStyles();\r\n  return (\r\n    <Modal \r\n      show={show} \r\n      onHide={handleClose}\r\n      aria-labelledby=\"example-custom-modal-styling-title\"\r\n      contentClassName = {\"cloud \"+ classes.cloud}\r\n      centered\r\n    >\r\n      <Modal.Header closeButton >\r\n        <Modal.Title id=\"tituloModal\" >Ingrese su Comentario</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body id=\"bodyModal\" >\r\n        <Form onSubmit={handleSubmit}  >\r\n          <Form.Group className={\"mb-2 \"} controlId=\"exampleForm.ControlInput1\">\r\n            <Form.Control as=\"textarea\" \r\n            className={classes.containerForm}\r\n            rows={1} \r\n            name=\"commentary\"\r\n            value={commentary.commentary || \"\"}\r\n            onChange={handleInputChange} \r\n            />\r\n          </Form.Group>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Cerrar\r\n            </Button>\r\n            <Button variant=\"primary\" type=\"submit\" onClick={handleClose}>\r\n              Crear\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal.Body>\r\n    </Modal>\r\n    \r\n  )\r\n};\r\n\r\nexport default ModalComentario;","import {useEffect, useState}from \"react\";\r\n//dependencias\r\n//import * as commentaryServer from \"../../services/commentary\";\r\nimport { useModal } from \"../../hooks/useModal\";\r\nimport ModalComentario from \"./comentarioModal\";\r\n\r\n//components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { Button } from \"@mui/material\";\r\nimport Stack from '@mui/material/Stack';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title:{\r\n    color: \"black\",\r\n    textAlign: \"center\",\r\n  },\r\n  nameUser:{\r\n    color:\"Gray\",\r\n    fontSize:\"15px\"\r\n  },\r\n  containerModal:{\r\n    boxShadow: \"4px 4px 4px 0px #5a28e550\",\r\n  },\r\n  containerComment: {\r\n    maxWidth: 720,\r\n    margin: \"auto\",\r\n    marginBottom: 20,\r\n  },\r\n  \"@media (max-width: 720px)\": {\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst ModalComentarios = ({ handleClose, show, histUser, commentaries,  ...props}) => {\r\n  const [showEdit, handleShowEdit, handleCloseEdit] = useModal(false);\r\n  const classes = useStyles();\r\n  \r\n  if (commentaries) {\r\n    return (\r\n    <Modal \r\n      show={show} \r\n      onHide={handleClose}\r\n      aria-labelledby=\"example-custom-modal-styling-title\"\r\n      contentClassName = {classes.containerModal}\r\n      centered\r\n      scrollable\r\n      \r\n    >\r\n      <Modal.Header closeButton  >\r\n        <Modal.Title id=\"titleModal\" className={classes.title} >Comentarios de usuarios</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body id=\"bodyModal\" className={classes.containerModal}>\r\n        {\r\n          commentaries.map( (element, index) => (\r\n              <Container key={index} className={classes.containerComment}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-9 \">\r\n                    <p>{new Date(element.created_date).toLocaleDateString()}</p>\r\n                    <h5 className={classes.nameUser} >{element.historial_user.usuario.name}</h5>\r\n                    <h6 >{element.commentary}</h6>\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                  { element.historial_user.usuario.id === histUser.usuario.id ?\r\n                    <Stack  alignItems=\"center\" alignContent=\"center\">\r\n                      {/* <Button \r\n                      variant=\"contained\" \r\n                      color=\"info\"\r\n                      onClick={handleShowEdit}>\r\n                        EDITAR \r\n                      </Button> */}\r\n                      <ModalComentario\r\n                        handleClose={handleCloseEdit}\r\n                        show={showEdit}\r\n                        commentary_id = {element.id}\r\n                      ></ModalComentario>\r\n                    </Stack>\r\n                    : null\r\n                    }\r\n                  </div>                  \r\n                  <hr/>\r\n                </div>\r\n              </Container>\r\n            ))\r\n        }\r\n      </Modal.Body>\r\n    </Modal>\r\n    )\r\n  }\r\n  \r\n};\r\n\r\nexport default ModalComentarios;","import axiosInstance from \"../axios\";\r\n\r\nconst API_URL = \"https://sccotview.com/api/ubicaciones/\";\r\n\r\n/**\r\n * Función para registrar una ubicación.\r\n * @param {formData} newUbicacion\r\n * @returns La data enviada desde el backend.\r\n */\r\nexport const RegisterUbicacion = async (newUbicacion) => {\r\n    const response = await axiosInstance.post(API_URL, newUbicacion);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar todas las ubicaciones\r\n * @returns La data enviada desde el backend.\r\n */\r\nexport const ListUbicacion = async () => {\r\n    const response = await axiosInstance.get(`${API_URL}`);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar todas las ubicaciones de un historial de usuario en específico.\r\n * @param {fk} histUser_id \r\n * @returns data enviada desde el backend.\r\n */\r\nexport const ListUbicacionHist = async (histUser_id) => {\r\n    const response = await axiosInstance.post(`${API_URL}list_by_historial/`,histUser_id);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n\r\n/**\r\n * Función para actulizar una ubicación.\r\n * @param {pk} id\r\n * @param {formData} updateUbicacion \r\n * @returns La data enviada desde el backend.\r\n */\r\nexport const updateUbicacion = async(id,updateUbicacion) =>{\r\n    const response = await axiosInstance.patch(API_URL+id+\"/\",updateUbicacion);\r\n    if (response.status === 200) {\r\n        return response.data;\r\n    }\r\n}","import axiosInstance from \"../axios\";\r\n\r\nconst API_URL = \"https://sccotview.com/api/fechaReprods/\";\r\n\r\n/**\r\n * Función para registrar una nueva fecha de reproducción, este tiene relación con el historial de video e historial de usuario.\r\n * @param {formdata} newFecha \r\n * @returns data enviada desde el backend.\r\n */\r\nexport const RegisterFechaRepro = async (newFecha) => {\r\n    const response = await axiosInstance.post(API_URL, newFecha);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar todas las fechas de reproduccion.\r\n * @returns data enviada desde el backend-\r\n */\r\nexport const ListFechaRepro = async () => {\r\n    const response = await axiosInstance.get(`${API_URL}`);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar una fecha de reproducción en específico.\r\n * @param {pk} histID primary key\r\n * @returns data enviada desde el backend\r\n */\r\nexport const getFechaRepro = async (histID) => {\r\n    const response = await axiosInstance.get(`${API_URL}${histID}`);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar la fecha de reproducción correspondiente a un usuario y video.\r\n * @param {formdata} data \r\n * @returns data enviada desde el backend\r\n */\r\nexport const ListFechaReprox2 = async (data) => {\r\n    const response = await axiosInstance.post(`${API_URL}list_by_user_video/`,data);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n\r\n/**\r\n * Función para actualizar una fecha de reproducción.\r\n * @param {pk} id \r\n * @param {formdata} updateHU \r\n * @returns data enviada desde el backend\r\n */\r\nexport const updateHistorialVideo = async(id,updateHU) =>{\r\n    const response = await axiosInstance.patch(API_URL+id+\"/\",updateHU);\r\n    if (response.status === 200) {\r\n        return response.data;\r\n    }\r\n}","import axiosInstance from \"../axios\";\r\n\r\nconst API_URL = \"https://sccotview.com/api/historialVideo/\";\r\n\r\n/**\r\n * Función para registrar un historial de video.\r\n * @param {dataform} newHistorial\r\n * @returns data enviada desde el backend.\r\n */\r\nexport const RegisterHistorialVideo = async (newHistorial) => {\r\n    const response = await axiosInstance.post(API_URL, newHistorial);\r\n    if (response.status === 200) {\r\n      console.log(response.data);\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para consultar todos los historiales.\r\n * @returns data enviada desde el backend.\r\n */\r\nexport const ListHistorial = async () => {\r\n    const response = await axiosInstance.get(`${API_URL}`);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para obtener un historial en específico.\r\n * @param {pk} histID \r\n * @returns data enviada desde el backend.\r\n */\r\nexport const getHistorial = async (histID) => {\r\n    const response = await axiosInstance.get(`${API_URL}${histID}`);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n/**\r\n * Función para obtener el historial de un video en específico.\r\n * @param {fk} idVideo \r\n * @returns data enviada desde el backend.\r\n */\r\nexport const ListHistorialVideo = async (idVideo) => {\r\n    const response = await axiosInstance.post(`${API_URL}list_by_video/`,idVideo);\r\n    if (response.status === 200) {\r\n      return await response.data;\r\n    }\r\n  };\r\n\r\n/**\r\n * Función para actualizar un historial de video.\r\n * @param {pk} id \r\n * @param {formdata} updateHU \r\n * @returns data enviada desde el backend\r\n */\r\nexport const updateHistorialVideo = async(id,updateHU) =>{\r\n    const response = await axiosInstance.patch(API_URL+id+\"/\",updateHU);\r\n    if (response.status === 200) {\r\n        return response.data;\r\n    }\r\n}","import { useEffect, useState,useCallback } from \"react\";\r\nimport {useLocation} from 'react-router-dom';\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Player from \"@vimeo/player\";\r\n\r\n//dependencias\r\nimport * as UbicacionServer from \"../../services/ubicacion\";\r\nimport * as FechareproServer from \"../../services/fechaRepro\"\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as HistorialVideoServer from \"../../services/historialVideo\";\r\n\r\nimport \"../../styles/styles.css\";\r\n\r\n/**\r\n * Función para obtener el video alojado en vimeo y mostrarlo en un iframe, también se hace la gestión del video para guardar su historial, tiempo de reproducción, etc.\r\n * @param {*} video\r\n * @returns Iframe del video en vimeo\r\n */\r\nconst IframeVideo =  ({video, ...props}) => {\r\n  const [ubicacionUsers, setUbicacionUsers] = useState(null);\r\n  const [histUser, setHistUser] = useState();\r\n  const [histVideo, setHistVideo] = useState();\r\n  const { id } = useParams();\r\n\r\n\r\n  const location = useLocation();\r\n\r\n  const iframe = document.getElementById('iframe1');\r\n  const URL_API = 'https://ipwho.is/';\r\n\r\n  /**\r\n   * Función para obtener la ubicación del usuario logeado\r\n   */\r\n  const getUbication= async ()=> {\r\n    await fetch(URL_API)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      setUbicacionUsers(data);\r\n    });\r\n  };\r\n  /**\r\n   * Función para obtener el historial de usuario para el video en reproducción\r\n   */\r\n  const getHistUser= async ()=> {\r\n    if(location.state.id){\r\n\r\n      console.log(location);\r\n      console.log(\" location.state.id\" , location.state.id);\r\n      const res = await HistorialUserServer.getHistorial(location.state.id);   \r\n      setHistUser(res);\r\n    }else{\r\n\r\n      console.log(location);\r\n      console.log(\" location.state.usuario\" , location.state.usuario);\r\n      const res = await HistorialUserServer.getHistorial(location.state.usuario);   \r\n      setHistUser(res);\r\n      console.log(res);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Función para obtener el historial del video en reproducción\r\n   */\r\n  const getHistorialVideo = async () => {\r\n    const res = await HistorialVideoServer.ListHistorialVideo({video_id:id})\r\n    if (res.length>0) {\r\n      setHistVideo(res);\r\n    } else {\r\n      const formData = new FormData();\r\n      formData.append('video',id);\r\n      const res = await HistorialVideoServer.RegisterHistorialVideo(formData);\r\n      setHistVideo(res);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Función para convertir el tiempo de reproducción del video a segundos\r\n   * @param {time} tiempo \r\n   * @returns Tiempo en segundos.\r\n   */\r\n  const convertTime = (tiempo) => {\r\n    let [h, m, s] = tiempo.split(':').map(val => +val);\r\n    s = (s+(m*60)+(h*60^2))-2\r\n    return parseInt(s);\r\n  }\r\n\r\n  /**\r\n   * Función para obtener la fecha actual y pasarla a un formato YY-MM-dd\r\n   * @returns Fecha actual\r\n   */\r\n  function obetenerfecha() {\r\n    const f = new Date();\r\n    let day = `${(f.getDate())}`.padStart(2,'0');\r\n    let month = `${(f.getMonth()+1)}`.padStart(2,'0');\r\n    let year = f.getFullYear();\r\n    const fecha =year+ \"-\"+ month + \"-\" + day;\r\n    return fecha;\r\n  }\r\n  /**\r\n   * Función para realizar la gestión con el video (Guardar tiempo de reproducción, guardar calificación, guardar fecha de reproducción, guardar ubicación)\r\n   */\r\n  const getVimeoVideo = useCallback(() => {\r\n    const formData = new FormData();\r\n    let duracion = 0;\r\n    let tiempo;\r\n    let player;\r\n\r\n    if (video.code_esp && histUser) {\r\n      let options = {\r\n        id: video.code_esp,\r\n        playsinline: true,\r\n        \r\n      };\r\n      player = new Player(iframe, options);\r\n\r\n      if (histUser.tiempo !== null) {\r\n        const segundos = convertTime(histUser.tiempo);\r\n        player.setCurrentTime(segundos);\r\n      }\r\n      /**\r\n       * Metodo play en donde se realizan las operaciones mencionadas en la función useCallback\r\n       */\r\n      player.on('play', async () => {\r\n        const res = await UbicacionServer.ListUbicacionHist({ 'histUser_id': histUser.id });\r\n        const data = new FormData();\r\n        data.append(\"historial_user\", histUser.id);\r\n        data.append(\"historial_Video\",histVideo[0].id);\r\n        const fechaR = await FechareproServer.ListFechaReprox2(data);\r\n        let ubByHist;\r\n        let reproH;\r\n        const fecha = obetenerfecha();\r\n\r\n        if (res.length > 0) {\r\n          ubByHist = res;\r\n        }\r\n        if (fechaR.length >0 ) {\r\n          reproH = fechaR;\r\n        }\r\n        if (ubicacionUsers) {\r\n          formData.append(\"direccionIP\", ubicacionUsers.ip);\r\n          formData.append(\"ciudad\", ubicacionUsers.city);\r\n          formData.append(\"pais\", ubicacionUsers.country);\r\n          formData.append(\"historial_user\", histUser.id);\r\n          formData.append(\"historial_Video\", histVideo[0].id)\r\n          if (ubByHist) {\r\n            for (let index = 0; index < ubByHist.length; index++) {\r\n              const element = ubByHist[index];\r\n              if (element['direccionIP'] === ubicacionUsers.ip && element['ciudad'] === ubicacionUsers.city && element['pais'] === ubicacionUsers.country) {\r\n                console.log(\"Ya exite una hubicación del mismo lugar registrada!\");\r\n              }\r\n              else{\r\n                await  UbicacionServer.RegisterUbicacion(formData);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          else{ await  UbicacionServer.RegisterUbicacion(formData) }\r\n\r\n          if (reproH) {\r\n            for (let index = 0; index < reproH.length; index++) {\r\n              const element = reproH[index];\r\n              console.log(element['fecha']);\r\n              if (element['fecha'] === fecha) {                \r\n                console.log(\"Ya exite una fecha igual registrada!\");\r\n              }\r\n              else{\r\n                await  FechareproServer.RegisterFechaRepro({ 'historial_user': histUser.id, 'historial_Video':histVideo[0].id})\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          else{await  FechareproServer.RegisterFechaRepro({ 'historial_user': histUser.id, 'historial_Video':histVideo[0].id})}            \r\n        }\r\n      });\r\n      /**\r\n       * Función para contar cada 10 segundos la reproducción del video.\r\n       * @param {*} player \r\n       */\r\n      const repetirCada10Segundos = (player)=> {\r\n        setInterval(saveTime, 10000, player);\r\n      }\r\n      /**\r\n       * Función para obtener la duración del video y guardarlo en la base de datos\r\n       * @param {*} player \r\n       */\r\n      const saveTime =(player)=> {\r\n        tiempo = 0;\r\n        console.log(\"Guardado después de 10s\");\r\n        player.getDuration().then( (duration) => {\r\n          duracion = parseInt(duration);\r\n        }).catch(function(error) {\r\n          console.error(error);\r\n        });\r\n        player.getCurrentTime().then((seconds) => {\r\n          tiempo = parseInt(seconds)\r\n          if (tiempo !== 0 && histUser.id){\r\n            const validacion = parseInt((duracion*90)/100);\r\n            console.log(\"Tiempo para el 90% \"+validacion);\r\n            let cont1 = histUser.counter_repro;\r\n            let cont2 = histVideo[0].reproducciones;\r\n            if (tiempo >= validacion) {\r\n              cont1 += 1;\r\n              cont2 += 1;\r\n              HistorialUserServer.updateHistorialUser(histUser.id,{'tiempo':0, 'visto':true, 'counter_repro':cont1});\r\n              HistorialVideoServer.updateHistorialVideo(histVideo[0].id, {'reproducciones':cont2})\r\n            }\r\n            else{\r\n              console.log(\"Tiempo actual de reproducción \"+tiempo);\r\n              HistorialUserServer.updateHistorialUser(histUser.id,{'tiempo':tiempo});\r\n            }\r\n          }\r\n        }).catch((error) => {\r\n          console.error(error);\r\n        });\r\n      }\r\n      if (document.URL.includes('/seeVideo/')) {\r\n        repetirCada10Segundos(player); \r\n      }\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  },[ histUser , iframe, ubicacionUsers, video.code_esp]);\r\n\r\n  useEffect(()=>{    \r\n    getVimeoVideo();\r\n  },[getVimeoVideo]);\r\n\r\n  useEffect(()=>{\r\n    //getUbication();\r\n    getHistUser();\r\n    getHistorialVideo();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  },[]);\r\n  \r\n\r\n  return (\r\n      <div id=\"iframe1\" >\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default IframeVideo;","import { useEffect, useState } from \"react\";\r\nimport {useLocation, useNavigate, useParams, Link} from 'react-router-dom';\r\n\r\n\r\n//dependencias\r\nimport * as VideoServer from \"../../services/videoServer\";\r\nimport * as SerieServer from \"../../services/serie\";\r\nimport * as TemporadaServer from \"../../services/temporada\";\r\nimport VideoLoadingComponent from \"./videoLoading\";\r\n\r\n\r\nimport * as HistorialUserServer from \"../../services/historialUser\";\r\nimport * as commentaryServer from \"../../services/commentary\";\r\nimport { useModal } from \"../../hooks/useModal\";\r\n\r\n//MaterialUI\r\nimport { Container,Button,Box,Stack,Typography } from '@mui/material';\r\nimport StarIcon from \"@mui/icons-material/Star\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\r\n//components\r\nimport \"../../styles/styles.css\";\r\nimport ModalComentario from \"./comentarioModal\";\r\nimport ModalComentarios from \"./listComentariosModal\";\r\nimport IframeVideo from \"./iframeVideo\";\r\nimport { ErrorBoundary } from \"react-error-boundary\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(0),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n/**\r\n * Función para mostrar el detalle de un video y guardar la puntuación.\r\n * @returns Componente que muestra el detalle de un video junto con el iframe\r\n */\r\nconst VideoDetail = () => {\r\n  \r\n  const history = useNavigate();\r\n  const [show, handleShow, handleClose] = useModal(false);\r\n  const [show2, handleShow2, handleClose2] = useModal(false);\r\n  const [histUsers, setHistUsers] = useState();  \r\n\r\n  const location = useLocation();\r\n  const { id } = useParams();\r\n  const [video, setVideo] = useState([]);\r\n  const [serie, setSerie] = useState([]);\r\n  const [temporada, setTemporada] = useState([]);\r\n  const [idSerie, setIdSerie] = useState([]);\r\n  const [idTemporada, setIdTemporada] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [duracion, setDuracion] = useState([]);\r\n  const [uploadDate, setUploadDate] = useState(null);\r\n  const [histUser, setHistUser] = useState(location.state);\r\n  const [commentaries, setCommentaries] = useState([]);\r\n  const [activeStar, setActiveStar] = useState(-1);\r\n  const totalStars = 5;\r\n  const [appState, setAppState] = useState({\r\n    loading: true\r\n  });\r\n  const VideoLoading = VideoLoadingComponent(video);\r\n  \r\n  /**\r\n   * Función para almacenar la duración del video en un formato adecuado para mostrarla en pantalla.\r\n   * @param {time} duration \r\n   * @returns Duración en el formato adecuado.\r\n   */\r\n  const changeDuration = (duration) => {\r\n    let tiempo = duration.split(':');\r\n    let new_duration = \"\";\r\n    if (tiempo) {\r\n      if (tiempo[0] !== \"00\") {\r\n        new_duration = tiempo[0] + \"h\";\r\n      }\r\n      if (tiempo[1] !== \"00\") {\r\n        new_duration = \" \" + new_duration + \" \" + tiempo[1] + \"min\";\r\n      }\r\n      /* if (tiempo[2] !==\"00\") {\r\n        new_duration = \" \"+new_duration+\" \"+tiempo[2]+\"s\";\r\n      } */\r\n    }\r\n    return new_duration.trim(); // trim() para eliminar cualquier espacio en blanco adicional\r\n  };\r\n  const entrarSerie = (serieId)=>{\r\n    history(`/seeSerie/${serieId}`,{state:histUsers});\r\n    setIdSerie(serieId)\r\n    console.log(serieId);\r\n  }\r\n  const entrarTemporada = (temporadaId)=>{\r\n    history(`/seeTemporada/${temporadaId}`,{state:histUsers});\r\n    setIdTemporada(temporadaId)\r\n    console.log(temporadaId);\r\n  }\r\n  \r\n  const getSerieAndTemporada = async (serieId,temporadaId) =>{\r\n\r\n      const responseSerie = await SerieServer.getSerie(serieId)\r\n      console.log(responseSerie);\r\n      setSerie(responseSerie)\r\n\r\n      const responseTemporada = await TemporadaServer.getTemporada(temporadaId)\r\n      console.log(responseTemporada);\r\n      setTemporada(responseTemporada)\r\n  }\r\n  const getHistorialUsers = async () => {\r\n    try {\r\n      const res = await HistorialUserServer.ListHistorial();\r\n      setHistUsers(res);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  /**\r\n   * Función para obtener la información del video en reproducción\r\n   */\r\n  useEffect(() => {\r\n    const getVideo = async (videoID) => {\r\n      const res = await VideoServer.getVideo(videoID);\r\n      const video = res;\r\n      console.log(video);\r\n\r\n      setUploadDate(new Date(res.upload_date).toDateString());\r\n      setDuracion(changeDuration(res.duration));\r\n      setVideo({\r\n        ...video,\r\n        duration: duracion,           \r\n      });\r\n      setAppState({ loading: false});\r\n      \r\n    };\r\n    getHistorialUsers();\r\n\r\n    getVideo(id);\r\n\r\n    /*  */\r\n    /* const getSeries = async (serieID) => {\r\n      const res = await SerieServer.getSerie();\r\n      const serie = res;\r\n      console.log(serie);\r\n\r\n      setSerie({\r\n        ...serie,\r\n      });\r\n    };\r\n    getSeries(video.serie); */\r\n    /*  */\r\n    if (histUser) {\r\n      setActiveStar(histUser.user_score-1);\r\n    } else {\r\n      history(\"/loginuser\");      \r\n    }\r\n\r\n    /*  */\r\n    const getCommentaries = async (videoId) => {\r\n      const res = await commentaryServer.ListCommentaryVideo({'video_id':videoId});\r\n      setCommentaries(res);\r\n    }\r\n    getCommentaries(id);\r\n    /*  */\r\n    getSerieAndTemporada(video.serie,video.temporada)\r\n  }, [duracion, id, setVideo, video.title_espanol, video.url_esp, video.url_vimeo_esp,video.serie_id]);\r\n  \r\n\r\n   \r\n  /**\r\n   * Función para cambiar la calificación del video.\r\n   * @param {int} index \r\n   */\r\n  const handleClick = async (index) => {\r\n    setActiveStar(index);\r\n    let cumulative_score = video.cumulative_score;\r\n    let number_votes = video.numberOfVotes;\r\n\r\n    if (histUser.user_score) {\r\n      cumulative_score = cumulative_score - histUser.user_score + index+1;\r\n      const score_video = cumulative_score/number_votes;\r\n      setHistUser({...histUser, user_score:index+1});\r\n      await VideoServer.partialUpdateVideo(video.id, {'cumulative_score': cumulative_score, 'score': score_video})\r\n\r\n    } else {\r\n      number_votes +=1;\r\n      cumulative_score = cumulative_score + index+1;\r\n      const score_video = cumulative_score/number_votes;\r\n      setHistUser({...histUser, user_score:index+1});\r\n      await VideoServer.partialUpdateVideo(video.id, {'cumulative_score': cumulative_score,'numberOfVotes': number_votes,'score': score_video})\r\n    }\r\n    await HistorialUserServer.updateHistorialUser(histUser.id,{'user_score': index+1});\r\n \r\n  };\r\n  \r\n  const classes = useStyles();\r\n\r\n  if (histUser) {\r\n    return (\r\n    <ErrorBoundary>\r\n    <Container>\r\n      {appState.loading  ?  <VideoLoading isLoading={appState.loading} video={video} /> :\"\"}\r\n      <div>\r\n        <div className=\"d-flex justify-content-end\">\r\n          <button  onClick={() => window.history.back()} className=\"btn btn-light my-2\" value=\"Volver\">Volver</button>\r\n        </div>\r\n      </div>\r\n      <div className={classes.paper}>\r\n        <h3>\r\n          {video.title_espanol}\r\n        </h3>\r\n      </div>\r\n      <br></br>\r\n      <div className=\"row\">\r\n        <div className=\"col-8 iframe1\">\r\n          <IframeVideo\r\n            video={video}\r\n            >\r\n          </IframeVideo>\r\n        </div>\r\n        <div className=\"col infoVideo\" >\r\n          <Typography component=\"h5\" variant=\"h6\" style={{color:\"white\",borderBottom:\"3px solid white\",paddingBottom:'5px'}} align=\"center\">\r\n            {video.duration}\r\n          </Typography>\r\n          <br></br>\r\n          \r\n          <br></br>\r\n          <div className=\"d-flex justify-content-center flex-column align-items-center\">\r\n          <Typography component=\"h5\" variant=\"h6\">\r\n            Ayudanos a calificar   &nbsp;\r\n            <Box \r\n              sx={{\r\n                display: \"inline-flex\",\r\n                position: \"relative\",\r\n                cursor: \"pointer\",\r\n                textAlign: \"left\",\r\n              }}\r\n            >\r\n              {[...new Array(totalStars)].map((arr, index) => {\r\n                return (\r\n                  <Box \r\n                  key={index} \r\n                  position=\"relative\"\r\n                  sx={{\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={(e) => handleClick(index)}\r\n                  >\r\n                    <Box \r\n                      sx={{\r\n                        width: index <= activeStar ? \"100%\" : \"0%\",\r\n                        overflow: \"hidden\",\r\n                        position: \"absolute\",\r\n                      }}\r\n                    >\r\n                      <StarIcon />\r\n                    </Box>\r\n                    <Box>\r\n                      <StarBorderIcon />\r\n                    </Box>\r\n                  </Box>\r\n                )\r\n              })}\r\n            </Box>\r\n          </Typography>\r\n          <br></br>\r\n          <div className=\"d-flex \">\r\n\r\n            <Stack  alignItems=\"center\" className=\"p-2\">\r\n              <Button \r\n              variant=\"contained\" \r\n              color=\"success\"\r\n              type=\"submit\"\r\n              onClick={handleShow}>\r\n                Realizar comentario\r\n              </Button>\r\n            </Stack>\r\n            {commentaries ? \r\n              <Stack  alignItems=\"center\" className=\"p-2\">\r\n                <Button \r\n                  variant=\"contained\" \r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  onClick={handleShow2}>\r\n                  Ver otros comentarios\r\n                </Button>\r\n              </Stack>\r\n              : \r\n              null\r\n            }\r\n          </div>\r\n          {video.tipe_of_video == 2 &&\r\n            \r\n          <div className=\"mt-3\">\r\n\r\n            <div className=\"table-responsive \">\r\n              <table className=\"table  text-light \">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">Serie</th>\r\n                    <th scope=\"col\">\r\n                    {\r\n                      <a className=\"text-primary\" style={{\r\n                        cursor:\"pointer\"\r\n                      }} onClick={()=>entrarSerie(serie.id)}>{serie.serie}</a>\r\n                     }\r\n                    </th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th scope=\"col\">Temporada</th>\r\n                    <th scope=\"col\">\r\n                      { <a className=\"text-primary\" style={{\r\n                          cursor:\"pointer\"\r\n                        }} onClick={()=>entrarTemporada(temporada.id)}>{temporada.temporada}</a>\r\n                      }\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n              </table>\r\n            </div>\r\n            \r\n            \r\n            \r\n          </div>\r\n          }\r\n        </div>\r\n        </div>\r\n        <div>\r\n            <h5>Descripción</h5>\r\n          <p className=\"mt-3\">\r\n              {video.description_esp}\r\n          </p>\r\n        </div>\r\n        <br/>\r\n        <div className=\"table-responsive \">\r\n          <table className=\"table  text-light \">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Categorias</th>\r\n                <th scope=\"col\">Especialidades</th>\r\n                <th scope=\"col\">Subespecialidades</th>\r\n                <th scope=\"col\">Palabras claves</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                {video.categorias && (\r\n                  video.categorias.map(categoria => (\r\n                    <li key={categoria.id}><small className=\"\">{categoria.categoria}</small></li>\r\n                  ))\r\n                )}\r\n                </td>\r\n                <td>\r\n                  {video.especialidad && (\r\n                    video.especialidad.map(especialidad => (\r\n                      <li key={especialidad.id}><small className=\"\">{especialidad.especialidad}</small></li>\r\n                    ))\r\n                  )}\r\n                </td>\r\n                <td>\r\n                {video.subEspecialidad && (\r\n                  video.subEspecialidad.map(subEspecialidad => (\r\n                    <li key={subEspecialidad.id}><small className=\"\">{subEspecialidad.subEspecialidad}</small></li>\r\n                  ))\r\n                )}\r\n                </td>\r\n                <td>\r\n                  {video.palabraClave && (\r\n                      video.palabraClave.map(palabraClave => (\r\n                        <li key={palabraClave.id}><small className=\"\">{palabraClave.palabraClave}</small></li>\r\n                      ))\r\n                  )}\r\n                </td>\r\n              </tr>\r\n              \r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n      <ModalComentario\r\n        handleClose={handleClose}\r\n        show={show}\r\n        histUser={histUser}\r\n        videoID ={id}\r\n      ></ModalComentario>\r\n      <ModalComentarios\r\n        handleClose={handleClose2}\r\n        show={show2}\r\n        histUser={histUser}\r\n        commentaries = {commentaries}\r\n        videoID= {id}\r\n      ></ModalComentarios>\r\n    </Container>\r\n    </ErrorBoundary>\r\n    );\r\n  }\r\n  return (\r\n    <p style={{ fontSize: \"25px\" }}>Inicia sesión para ver todos los videos!</p>\r\n  );\r\n  \r\n};\r\n\r\nexport default VideoDetail;\r\n","import React from \"react\";\r\n\r\n/**\r\n * Verifica si los videos ya fueron cargados.\r\n * @param {component} Component \r\n * @returns\r\n */\r\nfunction VideoLoading(Component) {\r\n  /**\r\n    * @param {boolean} isLoading \r\n    * @param {Object} props\r\n    * @returns  Si ya cargaron los videos se retorna un componente recibido en la función main de lo contrario retorna mensaje indicando que aún se estan cargando.\r\n  */\r\n  return function VideoLoadingComponent({ isLoading, ...props }) {\r\n    if (!isLoading) return <Component {...props} />;\r\n    return (\r\n      <div style={{ fontSize: \"25px\",display:\"flex\",justifyContent:\"center\",textAlign:\"center\",flexDirection:\"column\",alignItems:\"center\" }}>\r\n        <div className=\"spinner-grow text-light\" role=\"status\">\r\n          <span className=\"sr-only\"></span>\r\n        </div>\r\n          Espera por favor\r\n      </div>\r\n    );\r\n  };\r\n}\r\nexport default VideoLoading;\r\n"],"names":["useStyles","makeStyles","theme","containerModal","border","borderRadius","boxShadow","cloud","width","background","color","containerForm","height","root","display","histUser","handleClose","show","commentary_id","initialFormData","commentary","historial_user","video","videoID","useState","setCommentary","handleSubmit","e","preventDefault","formData","FormData","append","id","commentaryServer","console","log","useEffect","getCommentary","res","classes","Modal","onHide","contentClassName","centered","closeButton","Form","onSubmit","className","controlId","as","rows","name","value","onChange","target","variant","onClick","type","title","textAlign","nameUser","fontSize","containerComment","maxWidth","margin","marginBottom","commentaries","useModal","showEdit","handleCloseEdit","scrollable","map","element","index","Date","created_date","toLocaleDateString","usuario","Stack","alignItems","alignContent","API_URL","RegisterUbicacion","newUbicacion","axiosInstance","response","status","data","ListUbicacionHist","histUser_id","RegisterFechaRepro","newFecha","ListFechaReprox2","RegisterHistorialVideo","newHistorial","ListHistorialVideo","idVideo","updateHistorialVideo","updateHU","ubicacionUsers","setHistUser","histVideo","setHistVideo","useParams","location","useLocation","iframe","document","getElementById","getHistUser","state","HistorialUserServer","getHistorialVideo","HistorialVideoServer","video_id","length","obetenerfecha","f","day","getDate","padStart","month","getMonth","getFullYear","getVimeoVideo","useCallback","tiempo","player","duracion","code_esp","options","playsinline","Player","segundos","split","val","h","m","s","parseInt","convertTime","setCurrentTime","on","UbicacionServer","FechareproServer","fechaR","fecha","ubByHist","reproH","ip","city","country","saveTime","getDuration","then","duration","catch","error","getCurrentTime","seconds","validacion","cont1","counter_repro","cont2","reproducciones","URL","includes","setInterval","repetirCada10Segundos","paper","marginTop","spacing","flexDirection","history","useNavigate","handleShow","show2","handleShow2","handleClose2","histUsers","setHistUsers","setVideo","serie","setSerie","temporada","setTemporada","setIdSerie","setIdTemporada","setDuracion","setUploadDate","setCommentaries","activeStar","setActiveStar","loading","appState","setAppState","VideoLoading","VideoLoadingComponent","changeDuration","new_duration","trim","getSerieAndTemporada","serieId","temporadaId","SerieServer","responseSerie","TemporadaServer","responseTemporada","getHistorialUsers","getVideo","VideoServer","upload_date","toDateString","user_score","getCommentaries","videoId","title_espanol","url_esp","url_vimeo_esp","serie_id","handleClick","cumulative_score","number_votes","numberOfVotes","score_video","ErrorBoundary","Container","isLoading","window","back","Typography","component","style","borderBottom","paddingBottom","align","Box","sx","position","cursor","Array","arr","overflow","Star","StarBorder","Button","tipe_of_video","scope","description_esp","categorias","categoria","especialidad","subEspecialidad","palabraClave","Component","props","justifyContent","role"],"sourceRoot":""}